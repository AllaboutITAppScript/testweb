<!DOCTYPE html>
<html lang="th" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Code Tester Pro - Multi-language Code Editor</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- CodeMirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/dracula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/php/php.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/edit/matchbrackets.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }
        
        .resizer {
            position: absolute;
            top: 0;
            right: -5px;
            width: 10px;
            height: 100%;
            cursor: col-resize;
            z-index: 50;
        }
        
        .resizer:hover {
            background-color: rgba(59, 130, 246, 0.3);
        }
        
        .resizer.active {
            background-color: rgba(59, 130, 246, 0.5);
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .live-indicator {
            animation: pulse 2s infinite;
        }
        
        /* Split view layout */
        .split-container {
            display: flex;
            height: calc(100vh - 120px);
            position: relative;
            overflow: hidden;
        }
        
        .editor-section {
            width: 50%;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .preview-section {
            width: 50%;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* Fullscreen mode */
        .fullscreen {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 1000 !important;
            margin: 0 !important;
            border-radius: 0 !important;
            border: none !important;
        }
        
        /* Language selector */
        .language-selector {
            position: relative;
            z-index: 10;
        }
        
        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #1f2937;
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 0.5rem 0;
            min-width: 180px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 100;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .language-dropdown.show {
            display: block;
        }
        
        .language-option {
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            border-left: 3px solid transparent;
        }
        
        .language-option:hover {
            background-color: #374151;
            border-left-color: #3b82f6;
        }
        
        .language-option.active {
            background-color: rgba(59, 130, 246, 0.2);
            border-left-color: #3b82f6;
        }
        
        /* Run code button animation */
        @keyframes runButtonPulse {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }
        
        .run-button-animation {
            animation: runButtonPulse 1.5s infinite;
        }
        
        /* Output area */
        .output-area {
            white-space: pre-wrap;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* CodeMirror customization */
        .CodeMirror {
            height: 100% !important;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
            font-size: 14px !important;
        }
        
        .cm-s-dracula.CodeMirror {
            background-color: #1e293b !important;
            color: #f8f8f2 !important;
        }
        
        .cm-s-dracula .CodeMirror-gutters {
            background-color: #1e293b !important;
            border-right: 1px solid #374151 !important;
        }
        
        .cm-s-dracula .CodeMirror-linenumber {
            color: #9ca3af !important;
        }
        
        /* JavaScript output styles */
        .js-output {
            padding: 20px;
            background: #0f172a;
            color: white;
            height: 100%;
            overflow: auto;
        }
        
        .js-console {
            background: #1e293b;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
        }
        
        /* PHP output styles */
        .php-output {
            padding: 20px;
            background: #0f172a;
            color: white;
            height: 100%;
            overflow: auto;
        }
        
        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #3b82f6;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            max-width: 350px;
            transform: translateX(400px);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .notification-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .notification-error {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        
        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: #1f2937;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
        }
        
        /* Floating button */
        .floating-action-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
            cursor: pointer;
            z-index: 100;
            border: none;
        }
    </style>
</head>
<body class="dark:bg-gray-900 dark:text-gray-200 bg-gray-100 text-gray-800">
    <!-- Notification -->
    <div id="notification" class="notification">
        <div class="notification-content" id="notification-content">
            <div class="flex items-center">
                <i class="fas fa-check-circle text-xl mr-3"></i>
                <div>
                    <h4 class="font-bold" id="notification-title">ดำเนินการสำเร็จ</h4>
                    <p class="text-sm opacity-90" id="notification-text">ระบบได้บันทึกโค้ดของคุณแล้ว</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Download Modal -->
    <div id="download-modal" class="modal">
        <div class="modal-content">
            <h3 class="text-xl font-bold mb-4 flex items-center">
                <i class="fas fa-download mr-2 text-blue-500"></i> ดาวน์โหลดไฟล์โค้ด
            </h3>
            <div class="mb-6">
                <label for="filename" class="block mb-2 font-medium">ชื่อไฟล์:</label>
                <input type="text" id="filename" class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg" value="my-code.html">
                <p class="text-sm text-gray-400 mt-2" id="file-extension">ไฟล์จะถูกดาวน์โหลดเป็นไฟล์ .html</p>
            </div>
            <div class="flex justify-end space-x-3">
                <button id="cancel-download" class="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">ยกเลิก</button>
                <button id="confirm-download" class="px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center">
                    <i class="fas fa-download mr-2"></i> ดาวน์โหลด
                </button>
            </div>
        </div>
    </div>
    
    <!-- Floating Action Button -->
    <button id="quick-run-btn" class="floating-action-btn" title="รันโค้ด (Ctrl+Enter)">
        <i class="fas fa-play"></i>
    </button>
    
    <div class="container mx-auto px-4 py-2 h-screen flex flex-col">
        <!-- Header -->
        <header class="flex flex-col md:flex-row justify-between items-center mb-4 py-3">
            <div class="flex items-center space-x-3 mb-3 md:mb-0">
                <div class="bg-gradient-to-br from-blue-600 to-purple-600 p-2 rounded-lg">
                    <i class="fas fa-code text-white text-xl"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">Live Code Tester Pro</h1>
                    <p class="text-sm text-gray-500 dark:text-gray-400">ทดสอบโค้ดหลายภาษาแบบเรียลไทม์</p>
                </div>
            </div>
            
            <!-- Controls -->
            <div class="flex flex-wrap gap-3 items-center">
                <div class="flex items-center space-x-2">
                    <div class="language-selector">
                        <button id="language-selector-btn" class="bg-gray-800 dark:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-700 dark:hover:bg-gray-600">
                            <i class="fab fa-html5 text-orange-500"></i>
                            <span id="current-language">HTML</span>
                            <i class="fas fa-chevron-down ml-1"></i>
                        </button>
                        <div id="language-dropdown" class="language-dropdown">
                            <div class="language-option active" data-lang="html">
                                <i class="fab fa-html5 mr-2 text-orange-500"></i>
                                <div>
                                    <div class="font-medium">HTML</div>
                                    <div class="text-xs text-gray-400">เว็บเพจ</div>
                                </div>
                            </div>
                            <div class="language-option" data-lang="javascript">
                                <i class="fab fa-js mr-2 text-yellow-500"></i>
                                <div>
                                    <div class="font-medium">JavaScript</div>
                                    <div class="text-xs text-gray-400">สคริปต์</div>
                                </div>
                            </div>
                            <div class="language-option" data-lang="python">
                                <i class="fab fa-python mr-2 text-yellow-500"></i>
                                <div>
                                    <div class="font-medium">Python</div>
                                    <div class="text-xs text-gray-400">สคริปต์</div>
                                </div>
                            </div>
                            <div class="language-option" data-lang="php">
                                <i class="fab fa-php mr-2 text-indigo-500"></i>
                                <div>
                                    <div class="font-medium">PHP</div>
                                    <div class="text-xs text-gray-400">เว็บเซิร์ฟเวอร์</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-2">
                    <button id="theme-toggle" class="bg-gray-800 dark:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-700 dark:hover:bg-gray-600">
                        <i class="fas fa-moon"></i>
                        <span id="theme-text">ดาร์ก</span>
                    </button>
                </div>
                
                <button id="run-btn" class="bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:from-blue-600 hover:to-blue-800 run-button-animation">
                    <i class="fas fa-play-circle"></i>
                    <span>รันโค้ด</span>
                </button>
                
                <button id="download-btn" class="bg-gradient-to-r from-purple-500 to-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:from-purple-600 hover:to-purple-800">
                    <i class="fas fa-download"></i>
                    <span>ดาวน์โหลด</span>
                </button>
                
                <button id="reset-btn" class="bg-gradient-to-r from-red-500 to-red-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:from-red-600 hover:to-red-800">
                    <i class="fas fa-trash-alt"></i>
                    <span>รีเซ็ต</span>
                </button>
            </div>
        </header>
        
        <!-- Live Indicator -->
        <div class="flex items-center justify-center mb-2">
            <div id="live-indicator" class="flex items-center space-x-2 bg-gradient-to-r from-green-900 to-green-700 text-green-200 px-4 py-2 rounded-lg">
                <i class="fas fa-circle live-indicator"></i>
                <span id="live-status-text">พร้อมใช้งาน</span>
            </div>
        </div>
        
        <!-- Split View Container -->
        <div class="split-container">
            <!-- Editor Panel -->
            <div class="editor-section bg-gray-900 dark:bg-gray-800 rounded-lg border border-gray-700 relative">
                <div class="flex justify-between items-center bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-900 dark:to-gray-800 px-4 py-3 rounded-t-lg border-b border-gray-700">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-code text-green-400"></i>
                        <h2 class="font-bold" id="editor-title">HTML Editor</h2>
                        <span class="text-xs bg-blue-900 text-blue-200 px-2 py-1 rounded">CodeMirror</span>
                    </div>
                    <button id="fullscreen-btn" class="bg-gray-700 text-white px-3 py-1.5 rounded-lg flex items-center space-x-2 hover:bg-gray-600">
                        <i class="fas fa-expand"></i>
                        <span class="hidden md:inline">เต็มจอ</span>
                    </button>
                </div>
                
                <div class="editor-wrapper">
                    <textarea id="code-editor" class="hidden"></textarea>
                </div>
                
                <!-- Resizer -->
                <div class="resizer"></div>
            </div>
            
            <!-- Preview Panel -->
            <div class="preview-section bg-gray-800 dark:bg-gray-700 rounded-lg border border-gray-700">
                <div class="flex justify-between items-center bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-900 dark:to-gray-800 px-4 py-3 rounded-t-lg border-b border-gray-700">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-eye text-blue-400"></i>
                        <h2 class="font-bold" id="preview-title">ผลลัพธ์</h2>
                    </div>
                    <div class="text-sm text-gray-400">
                        <i class="fas fa-clock mr-1"></i>
                        <span>อัปเดต: <span id="last-update">-</span></span>
                    </div>
                </div>
                
                <div class="flex-1 overflow-hidden" id="output-container">
                    <!-- Output will be displayed here -->
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="mt-4 pt-3 border-t border-gray-700">
            <div class="flex flex-col md:flex-row justify-between items-center text-sm text-gray-500 dark:text-gray-400">
                <div class="mb-2 md:mb-0">
                    <p class="flex items-center">
                        <i class="fas fa-code mr-1"></i> Live Code Tester Pro - รองรับ HTML, JavaScript, Python, PHP
                    </p>
                </div>
                <div class="flex flex-wrap justify-center gap-4">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-keyboard"></i>
                        <span>กด <kbd class="px-2 py-1 bg-gray-800 rounded">Ctrl+S</kbd> เพื่อบันทึก</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-bolt"></i>
                        <span>กด <kbd class="px-2 py-1 bg-gray-800 rounded">Ctrl+Enter</kbd> เพื่อรันโค้ด</span>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const codeEditorTextarea = document.getElementById('code-editor');
            const themeToggle = document.getElementById('theme-toggle');
            const themeText = document.getElementById('theme-text');
            const runBtn = document.getElementById('run-btn');
            const quickRunBtn = document.getElementById('quick-run-btn');
            const resetBtn = document.getElementById('reset-btn');
            const downloadBtn = document.getElementById('download-btn');
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const lastUpdateEl = document.getElementById('last-update');
            const resizer = document.querySelector('.resizer');
            const editorSection = document.querySelector('.editor-section');
            const previewSection = document.querySelector('.preview-section');
            const notification = document.getElementById('notification');
            const notificationTitle = document.getElementById('notification-title');
            const notificationText = document.getElementById('notification-text');
            const notificationContent = document.getElementById('notification-content');
            const downloadModal = document.getElementById('download-modal');
            const filenameInput = document.getElementById('filename');
            const fileExtensionText = document.getElementById('file-extension');
            const confirmDownloadBtn = document.getElementById('confirm-download');
            const cancelDownloadBtn = document.getElementById('cancel-download');
            const languageSelectorBtn = document.getElementById('language-selector-btn');
            const languageDropdown = document.getElementById('language-dropdown');
            const currentLanguageEl = document.getElementById('current-language');
            const editorTitle = document.getElementById('editor-title');
            const previewTitle = document.getElementById('preview-title');
            const outputContainer = document.getElementById('output-container');
            
            // State variables
            let isDarkMode = true;
            let isResizing = false;
            let isFullscreen = false;
            let editorWidth = 50;
            let currentLanguage = 'html';
            let isRunningCode = false;
            let codeMirrorEditor = null;
            
            // Code examples
            const codeExamples = {
                html: `<!DOCTYPE html>
<html>
<head>
    <title>ตัวอย่าง HTML</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        h1 { 
            color: #fff; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .box { 
            background: rgba(255,255,255,0.9); 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 10px;
            color: #333;
        }
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #2563eb;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #e8f4fd;
            border-radius: 5px;
            color: #1e40af;
        }
    </style>
</head>
<body>
    <h1>สวัสดี Live Code Tester Pro!</h1>
    <div class="box">
        <p>นี่คือตัวอย่างโค้ด HTML พื้นฐาน</p>
        <button onclick="showMessage()">คลิกทดสอบ</button>
        <div id="message" class="result"></div>
    </div>
    <script>
        function showMessage() {
            const now = new Date();
            const message = document.getElementById('message');
            message.innerHTML = \`
                <h3>ยินดีต้อนรับสู่ Live Code Tester!</h3>
                <p>คุณสามารถทดสอบโค้ดได้ทันทีที่นี่</p>
                <p>เวลาปัจจุบัน: \${now.toLocaleTimeString()}</p>
                <p>วันที่: \${now.toLocaleDateString()}</p>
            \`;
        }
        
        // โหลดหน้าเว็บแสดงข้อความทักทาย
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('message').innerHTML = 
                '<p>ระบบ HTML พร้อมใช้งาน! คลิกปุ่มเพื่อทดสอบ</p>';
        });
    <\/script>
</body>
</html>`,

                javascript: `// JavaScript Example
console.log("เริ่มโปรแกรม JavaScript");

// 1. ตัวแปรและประเภทข้อมูล
console.log("\\n=== 1. ตัวแปรและประเภทข้อมูล ===");
let name = "สมชาย";
const age = 25;
var isStudent = true;
console.log("ชื่อ:", name);
console.log("อายุ:", age);
console.log("เป็นนักเรียน:", isStudent);

// 2. อาเรย์
console.log("\\n=== 2. อาเรย์ ===");
const fruits = ["แอปเปิ้ล", "กล้วย", "ส้ม", "มะม่วง"];
console.log("ผลไม้ทั้งหมด:", fruits);
console.log("ผลไม้ตัวแรก:", fruits[0]);
console.log("จำนวนผลไม้:", fruits.length);

// 3. ออบเจ็กต์
console.log("\\n=== 3. ออบเจ็กต์ ===");
const student = {
    name: "สมหญิง",
    age: 22,
    grades: [85, 90, 78],
    isGraduated: false,
    getAverage: function() {
        const sum = this.grades.reduce((a, b) => a + b, 0);
        return sum / this.grades.length;
    }
};
console.log("นักเรียน:", student);
console.log("ชื่อนักเรียน:", student.name);
console.log("เกรดเฉลี่ย:", student.getAverage());

// 4. เงื่อนไข
console.log("\\n=== 4. เงื่อนไข ===");
const score = 85;
if (score >= 80) {
    console.log("เกรด: A");
} else if (score >= 70) {
    console.log("เกรด: B");
} else if (score >= 60) {
    console.log("เกรด: C");
} else {
    console.log("เกรด: F");
}

// 5. ลูป
console.log("\\n=== 5. ลูป ===");
console.log("นับ 1-5:");
for (let i = 1; i <= 5; i++) {
    console.log("  " + i);
}

console.log("\\nผลไม้แต่ละชนิด:");
fruits.forEach((fruit, index) => {
    console.log(\`  \${index + 1}. \${fruit}\`);
});

// 6. ฟังก์ชัน
console.log("\\n=== 6. ฟังก์ชัน ===");
function calculateBMI(weight, height) {
    return weight / (height * height);
}

const bmi = calculateBMI(65, 1.75);
console.log("น้ำหนัก 65 กก., สูง 1.75 ม.");
console.log("ค่าดัชนีมวลกาย (BMI):", bmi.toFixed(2));

// 7. ฟังก์ชันลูกศร
console.log("\\n=== 7. ฟังก์ชันลูกศร ===");
const multiply = (a, b) => a * b;
console.log("5 × 7 =", multiply(5, 7));

// 8. วันและเวลา
console.log("\\n=== 8. วันและเวลา ===");
const now = new Date();
console.log("วันที่ปัจจุบัน:", now.toLocaleDateString());
console.log("เวลาปัจจุบัน:", now.toLocaleTimeString());
console.log("วันในสัปดาห์:", now.toLocaleDateString('th-TH', { weekday: 'long' }));

console.log("\\n=== โปรแกรมทำงานเสร็จสิ้น ===");`,

                python: `# Python Example
print("=" * 50)
print("ตัวอย่างโค้ดภาษา Python")
print("=" * 50)

# 1. ตัวแปรและประเภทข้อมูล
print("\\n=== 1. ตัวแปรและประเภทข้อมูล ===")
name = "สมชาย"
age = 25
is_student = True
print(f"ชื่อ: {name}")
print(f"อายุ: {age}")
print(f"เป็นนักเรียน: {is_student}")

# 2. ลิสต์
print("\\n=== 2. ลิสต์ ===")
fruits = ["แอปเปิ้ล", "กล้วย", "ส้ม", "มะม่วง"]
print(f"ผลไม้ทั้งหมด: {fruits}")
print(f"ผลไม้ตัวแรก: {fruits[0]}")
print(f"จำนวนผลไม้: {len(fruits)}")

# 3. ดิกชันนารี
print("\\n=== 3. ดิกชันนารี ===")
student = {
    "name": "สมหญิง",
    "age": 22,
    "grades": [85, 90, 78],
    "is_graduated": False
}
print(f"นักเรียน: {student}")
print(f"ชื่อนักเรียน: {student['name']}")

# คำนวณเกรดเฉลี่ย
grades = student["grades"]
average = sum(grades) / len(grades)
print(f"เกรดเฉลี่ย: {average:.2f}")

# 4. เงื่อนไข
print("\\n=== 4. เงื่อนไข ===")
score = 85
if score >= 80:
    grade = "A"
elif score >= 70:
    grade = "B"
elif score >= 60:
    grade = "C"
else:
    grade = "F"
print(f"คะแนน: {score}")
print(f"เกรด: {grade}")

# 5. ลูป
print("\\n=== 5. ลูป ===")
print("นับ 1-5:")
for i in range(1, 6):
    print(f"  {i}")

print("\\nผลไม้แต่ละชนิด:")
for index, fruit in enumerate(fruits, 1):
    print(f"  {index}. {fruit}")

# 6. ฟังก์ชัน
print("\\n=== 6. ฟังก์ชัน ===")
def calculate_bmi(weight, height):
    """คำนวณค่าดัชนีมวลกาย"""
    return weight / (height ** 2)

bmi = calculate_bmi(65, 1.75)
print("น้ำหนัก 65 กก., สูง 1.75 ม.")
print(f"ค่าดัชนีมวลกาย (BMI): {bmi:.2f}")

# 7. ฟังก์ชัน Fibonacci
print("\\n=== 7. ฟังก์ชัน Fibonacci ===")
def fibonacci(n):
    """สร้างลำดับ Fibonacci"""
    sequence = []
    a, b = 0, 1
    for _ in range(n):
        sequence.append(a)
        a, b = b, a + b
    return sequence

fib_numbers = fibonacci(10)
print(f"Fibonacci 10 ตัวแรก: {fib_numbers}")

# 8. ตรวจสอบจำนวนเฉพาะ
print("\\n=== 8. ตรวจสอบจำนวนเฉพาะ ===")
def is_prime(num):
    """ตรวจสอบว่าเป็นจำนวนเฉพาะหรือไม่"""
    if num < 2:
        return False
    for i in range(2, int(num ** 0.5) + 1):
        if num % i == 0:
            return False
    return True

primes = [num for num in range(1, 21) if is_prime(num)]
print(f"จำนวนเฉพาะ 1-20: {primes}")

# 9. วันและเวลา
print("\\n=== 9. วันและเวลา ===")
from datetime import datetime
now = datetime.now()
print(f"วันที่ปัจจุบัน: {now.strftime('%d/%m/%Y')}")
print(f"เวลาปัจจุบัน: {now.strftime('%H:%M:%S')}")

print("\\n" + "=" * 50)
print("โปรแกรมทำงานเสร็จสิ้น!")
print("=" * 50)`,

                php: `<?php
// PHP Example
echo "<!DOCTYPE html>";
echo "<html>";
echo "<head>";
echo "    <title>ตัวอย่าง PHP</title>";
echo "    <style>";
echo "        body { font-family: Arial, sans-serif; padding: 20px; background: linear-gradient(135deg, #4F5B93 0%, #5D6CC0 100%); color: white; }";
echo "        .container { background: rgba(255,255,255,0.95); padding: 30px; border-radius: 10px; color: #333; margin: 20px auto; max-width: 800px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }";
echo "        h1 { color: #4F5B93; text-align: center; }";
echo "        h2 { color: #5D6CC0; border-bottom: 2px solid #5D6CC0; padding-bottom: 10px; }";
echo "        .result { background: #e8f4fd; padding: 15px; border-radius: 5px; margin: 15px 0; color: #1e40af; }";
echo "        .code { background: #f8f9fa; padding: 10px; border-radius: 5px; font-family: monospace; margin: 10px 0; }";
echo "        table { width: 100%; border-collapse: collapse; margin: 15px 0; }";
echo "        th { background: #4F5B93; color: white; padding: 12px; text-align: left; }";
echo "        td { padding: 10px; border-bottom: 1px solid #ddd; }";
echo "        tr:hover { background: #f5f5f5; }";
echo "        .success { color: #059669; font-weight: bold; }";
echo "    </style>";
echo "</head>";
echo "<body>";
echo "    <div class='container'>";
echo "        <h1>ตัวอย่างโค้ดภาษา PHP</h1>";

// 1. ข้อมูลพื้นฐาน
echo "        <h2>1. ข้อมูลพื้นฐาน</h2>";
$server_name = $_SERVER['SERVER_NAME'] ?? 'Localhost';
$php_version = phpversion();
$current_time = date('H:i:s');
$current_date = date('d/m/Y');
echo "        <p><strong>ชื่อเซิร์ฟเวอร์:</strong> $server_name</p>";
echo "        <p><strong>เวอร์ชัน PHP:</strong> $php_version</p>";
echo "        <p><strong>วันที่:</strong> $current_date</p>";
echo "        <p><strong>เวลา:</strong> $current_time</p>";

// 2. ตัวแปรและประเภทข้อมูล
echo "        <h2>2. ตัวแปรและประเภทข้อมูล</h2>";
$name = "สมชาย";
$age = 25;
$isStudent = true;
$salary = 35000.50;
echo "        <div class='code'>";
echo "            \$name = \"$name\";<br>";
echo "            \$age = $age;<br>";
echo "            \$isStudent = " . ($isStudent ? 'true' : 'false') . ";<br>";
echo "            \$salary = $salary;<br>";
echo "        </div>";

// 3. อาเรย์
echo "        <h2>3. อาเรย์</h2>";
$fruits = array("แอปเปิ้ล", "กล้วย", "ส้ม", "มะม่วง", "ลำไย");
echo "        <p><strong>ผลไม้ทั้งหมด:</strong> " . implode(", ", $fruits) . "</p>";
echo "        <p><strong>จำนวนผลไม้:</strong> " . count($fruits) . " ชนิด</p>";
echo "        <p><strong>ผลไม้ตัวแรก:</strong> " . $fruits[0] . "</p>";

// 4. อาเรย์เชื่อมโยง
echo "        <h2>4. อาเรย์เชื่อมโยง (นักเรียน)</h2>";
$student = array(
    "name" => "สมหญิง",
    "age" => 22,
    "grades" => array(85, 90, 78, 92),
    "major" => "วิทยาการคอมพิวเตอร์"
);
echo "        <table>";
foreach ($student as $key => $value) {
    if ($key == "grades") {
        $grades_str = implode(", ", $value);
        $average = array_sum($value) / count($value);
        echo "        <tr><th>$key</th><td>$grades_str (เฉลี่ย: " . number_format($average, 2) . ")</td></tr>";
    } else {
        echo "        <tr><th>$key</th><td>$value</td></tr>";
    }
}
echo "        </table>";

// 5. เงื่อนไข
echo "        <h2>5. เงื่อนไข</h2>";
$score = 85;
if ($score >= 80) {
    $grade = "A";
    $message = "ยอดเยี่ยม!";
} elseif ($score >= 70) {
    $grade = "B";
    $message = "ดีมาก!";
} elseif ($score >= 60) {
    $grade = "C";
    $message = "พอใช้";
} else {
    $grade = "F";
    $message = "ต้องปรับปรุง";
}
echo "        <div class='result'>";
echo "            <p><strong>คะแนน:</strong> $score</p>";
echo "            <p><strong>เกรด:</strong> $grade</p>";
echo "            <p><strong>ผลการเรียน:</strong> $message</p>";
echo "        </div>";

// 6. ลูป
echo "        <h2>6. ลูป</h2>";
echo "        <p><strong>นับ 1-5:</strong> ";
for ($i = 1; $i <= 5; $i++) {
    echo "$i ";
}
echo "</p>";

echo "        <p><strong>ผลไม้แต่ละชนิด:</strong></p>";
echo "        <ul>";
foreach ($fruits as $index => $fruit) {
    echo "            <li>" . ($index + 1) . ". $fruit</li>";
}
echo "        </ul>";

// 7. ฟังก์ชัน
echo "        <h2>7. ฟังก์ชัน</h2>";
function calculateBMI($weight, $height) {
    return $weight / ($height * $height);
}

$bmi = calculateBMI(65, 1.75);
echo "        <div class='result'>";
echo "            <p>น้ำหนัก 65 กก., สูง 1.75 ม.</p>";
echo "            <p><strong>ค่าดัชนีมวลกาย (BMI):</strong> " . number_format($bmi, 2) . "</p>";
echo "        </div>";

// 8. วันที่และเวลา
echo "        <h2>8. วันที่และเวลา</h2>";
date_default_timezone_set('Asia/Bangkok');
$now = new DateTime();
echo "        <p><strong>วันที่:</strong> " . $now->format('d/m/Y') . "</p>";
echo "        <p><strong>เวลา:</strong> " . $now->format('H:i:s') . "</p>";
echo "        <p><strong>วันในสัปดาห์:</strong> " . $now->format('l') . "</p>";
echo "        <p><strong>เดือน:</strong> " . $now->format('F') . "</p>";

// 9. สรุปผล
echo "        <h2>9. สรุปผลการทำงาน</h2>";
echo "        <div class='result success'>";
echo "            <p>✓ โค้ด PHP ทำงานสำเร็จทั้งหมด</p>";
echo "            <p>✓ ไม่พบข้อผิดพลาดใดๆ</p>";
echo "            <p>✓ เวลาที่ทำงาน: $current_time</p>";
echo "        </div>";

echo "    </div>";
echo "</body>";
echo "</html>";
?>`
            };
            
            // Language info
            const languageInfo = {
                html: { 
                    name: "HTML", 
                    extension: ".html", 
                    icon: "fab fa-html5", 
                    color: "text-orange-500",
                    mode: "htmlmixed"
                },
                javascript: { 
                    name: "JavaScript", 
                    extension: ".js", 
                    icon: "fab fa-js", 
                    color: "text-yellow-500",
                    mode: "javascript"
                },
                python: { 
                    name: "Python", 
                    extension: ".py", 
                    icon: "fab fa-python", 
                    color: "text-yellow-500",
                    mode: "python"
                },
                php: { 
                    name: "PHP", 
                    extension: ".php", 
                    icon: "fab fa-php", 
                    color: "text-indigo-500",
                    mode: "php"
                }
            };
            
            // Initialize CodeMirror
            function initCodeMirror() {
                codeMirrorEditor = CodeMirror.fromTextArea(codeEditorTextarea, {
                    mode: "htmlmixed",
                    theme: "dracula",
                    lineNumbers: true,
                    lineWrapping: true,
                    indentUnit: 4,
                    tabSize: 4,
                    autoCloseBrackets: true,
                    matchBrackets: true
                });
                
                codeMirrorEditor.setSize("100%", "100%");
            }
            
            // Load saved code
            function loadSavedCode() {
                try {
                    const savedCode = localStorage.getItem(`codeTester_${currentLanguage}`);
                    if (savedCode) {
                        codeMirrorEditor.setValue(savedCode);
                    } else {
                        codeMirrorEditor.setValue(codeExamples[currentLanguage]);
                    }
                } catch (e) {
                    console.error('Error loading saved code:', e);
                }
            }
            
            // Save code
            function saveCode() {
                const code = codeMirrorEditor.getValue();
                localStorage.setItem(`codeTester_${currentLanguage}`, code);
                showNotification('บันทึกสำเร็จ', 'บันทึกโค้ดเรียบร้อยแล้ว', 'success');
            }
            
            // Run code
            function runCode() {
                if (isRunningCode) return;
                
                isRunningCode = true;
                const startTime = Date.now();
                const code = codeMirrorEditor.getValue();
                
                runBtn.innerHTML = '<div class="loading"></div> รันโค้ด...';
                runBtn.classList.remove('run-button-animation');
                
                try {
                    let result;
                    
                    switch (currentLanguage) {
                        case 'html':
                            result = runHtmlCode(code);
                            break;
                        case 'javascript':
                            result = runJavaScriptCode(code);
                            break;
                        case 'python':
                            result = runPythonCode(code);
                            break;
                        case 'php':
                            result = runPhpCode(code);
                            break;
                        default:
                            throw new Error('ภาษาไม่รองรับ');
                    }
                    
                    const endTime = Date.now();
                    const executionTime = endTime - startTime;
                    
                    lastUpdateEl.textContent = new Date().toLocaleTimeString('th-TH');
                    
                    showNotification('รันโค้ดสำเร็จ', `รันโค้ดเสร็จสิ้นใน ${executionTime}ms`, 'success');
                    
                } catch (error) {
                    console.error('Error running code:', error);
                    outputContainer.innerHTML = `
                        <div class="p-4 text-red-400 bg-red-900/20">
                            <h3 class="font-bold">เกิดข้อผิดพลาด</h3>
                            <p>${error.message}</p>
                        </div>
                    `;
                    showNotification('เกิดข้อผิดพลาด', error.message, 'error');
                } finally {
                    isRunningCode = false;
                    runBtn.innerHTML = '<i class="fas fa-play-circle"></i> รันโค้ด';
                    runBtn.classList.add('run-button-animation');
                }
            }
            
            // Run HTML code
            function runHtmlCode(code) {
                outputContainer.innerHTML = `
                    <iframe 
                        class="w-full h-full border-0" 
                        sandbox="allow-scripts allow-same-origin"
                        srcdoc="${escapeHtml(code)}"
                    ></iframe>
                `;
            }
            
            // Run JavaScript code
            function runJavaScriptCode(code) {
                // Clear output
                outputContainer.innerHTML = `
                    <div class="js-output">
                        <h3 class="text-xl font-bold mb-4">JavaScript Output</h3>
                        <div class="js-console" id="js-console"></div>
                    </div>
                `;
                
                const consoleDiv = document.getElementById('js-console');
                let consoleOutput = '';
                
                // Override console.log
                const originalLog = console.log;
                const originalError = console.error;
                const originalWarn = console.warn;
                
                console.log = function(...args) {
                    const message = args.map(arg => 
                        typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
                    ).join(' ');
                    consoleOutput += message + '\\n';
                    originalLog.apply(console, args);
                };
                
                console.error = function(...args) {
                    const message = '[ERROR] ' + args.join(' ');
                    consoleOutput += message + '\\n';
                    originalError.apply(console, args);
                };
                
                console.warn = function(...args) {
                    const message = '[WARN] ' + args.join(' ');
                    consoleOutput += message + '\\n';
                    originalWarn.apply(console, args);
                };
                
                try {
                    // Create a new script element with the code
                    const script = document.createElement('script');
                    script.textContent = `
                        try {
                            ${code}
                        } catch(e) {
                            console.error('Runtime Error:', e.message);
                        }
                    `;
                    
                    // Remove any existing output script
                    const oldScript = document.getElementById('output-script');
                    if (oldScript) oldScript.remove();
                    
                    script.id = 'output-script';
                    document.body.appendChild(script);
                    
                    // Wait a bit for execution
                    setTimeout(() => {
                        console.log = originalLog;
                        console.error = originalError;
                        console.warn = originalWarn;
                        
                        if (consoleOutput.trim()) {
                            consoleDiv.textContent = consoleOutput;
                        } else {
                            consoleDiv.textContent = '✓ JavaScript executed successfully (no console output)';
                        }
                    }, 100);
                    
                } catch (e) {
                    console.log = originalLog;
                    console.error = originalError;
                    console.warn = originalWarn;
                    throw e;
                }
            }
            
            // Run Python code
            function runPythonCode(code) {
                // Simple Python simulation
                let output = '';
                const lines = code.split('\\n');
                
                lines.forEach(line => {
                    if (line.includes('print(')) {
                        const match = line.match(/print\(["']([^"']+)["']\)/);
                        if (match) {
                            output += match[1] + '\\n';
                        }
                    }
                });
                
                if (!output.trim()) {
                    output = '✓ Python code executed successfully\\n✓ Use print() function to see output';
                }
                
                outputContainer.innerHTML = `
                    <div class="p-4 bg-yellow-50 dark:bg-yellow-900/20">
                        <h3 class="text-xl font-bold mb-4 text-yellow-800 dark:text-yellow-200">Python Output</h3>
                        <pre class="output-area">${escapeHtml(output)}</pre>
                    </div>
                `;
            }
            
            // Run PHP code
            function runPhpCode(code) {
                // Simple PHP simulation
                let output = '';
                
                // Extract echo statements
                const echoMatches = code.match(/echo\s+["']([^"']+)["']/g) || [];
                const printMatches = code.match(/print\s+["']([^"']+)["']/g) || [];
                
                echoMatches.forEach(match => {
                    output += match.replace(/echo\s+["']/, '').replace(/["']/, '') + '\\n';
                });
                
                printMatches.forEach(match => {
                    output += match.replace(/print\s+["']/, '').replace(/["']/, '') + '\\n';
                });
                
                if (output.trim()) {
                    outputContainer.innerHTML = `
                        <div class="php-output">
                            <h3 class="text-xl font-bold mb-4">PHP Output</h3>
                            <pre class="output-area">${escapeHtml(output)}</pre>
                        </div>
                    `;
                } else {
                    outputContainer.innerHTML = `
                        <div class="p-4 bg-purple-50 dark:bg-purple-900/20">
                            <h3 class="text-xl font-bold mb-4 text-purple-800 dark:text-purple-200">PHP Execution</h3>
                            <p>✓ PHP code executed successfully</p>
                            <p class="mt-2 text-sm">Note: Full PHP execution requires a server environment.</p>
                        </div>
                    `;
                }
            }
            
            // Change language
            function changeLanguage(lang) {
                if (lang === currentLanguage) return;
                
                // Save current code
                const currentCode = codeMirrorEditor.getValue();
                localStorage.setItem(`codeTester_${currentLanguage}`, currentCode);
                
                // Update current language
                currentLanguage = lang;
                const langInfo = languageInfo[lang];
                
                // Update UI
                currentLanguageEl.textContent = langInfo.name;
                editorTitle.textContent = `${langInfo.name} Editor`;
                previewTitle.textContent = `${langInfo.name} Output`;
                
                // Update language selector button
                languageSelectorBtn.innerHTML = `
                    <i class="${langInfo.icon} ${langInfo.color}"></i>
                    <span>${langInfo.name}</span>
                    <i class="fas fa-chevron-down ml-1"></i>
                `;
                
                // Update dropdown active state
                document.querySelectorAll('.language-option').forEach(option => {
                    option.classList.remove('active');
                    if (option.dataset.lang === lang) {
                        option.classList.add('active');
                    }
                });
                
                // Update filename and extension
                filenameInput.value = `my-code${langInfo.extension}`;
                fileExtensionText.textContent = `ไฟล์จะถูกดาวน์โหลดเป็นไฟล์ ${langInfo.extension}`;
                
                // Update CodeMirror mode
                codeMirrorEditor.setOption('mode', langInfo.mode);
                
                // Load saved code for new language
                loadSavedCode();
                
                // Clear output
                outputContainer.innerHTML = `
                    <div class="p-4">
                        <p>ภาษา ${langInfo.name} พร้อมใช้งาน</p>
                    </div>
                `;
                
                showNotification('เปลี่ยนภาษา', `เปลี่ยนภาษาเป็น ${langInfo.name}`, 'success');
            }
            
            // Toggle theme
            function toggleTheme() {
                const htmlElement = document.documentElement;
                isDarkMode = !isDarkMode;
                
                if (isDarkMode) {
                    htmlElement.classList.add('dark');
                    themeText.textContent = 'ดาร์ก';
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i><span>ดาร์ก</span>';
                    themeToggle.classList.remove('bg-gray-200', 'text-gray-800');
                    themeToggle.classList.add('bg-gray-800', 'text-white');
                    codeMirrorEditor.setOption('theme', 'dracula');
                } else {
                    htmlElement.classList.remove('dark');
                    themeText.textContent = 'ไลต์';
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i><span>ไลต์</span>';
                    themeToggle.classList.remove('bg-gray-800', 'text-white');
                    themeToggle.classList.add('bg-gray-200', 'text-gray-800');
                    codeMirrorEditor.setOption('theme', 'default');
                }
                
                localStorage.setItem('codeTesterTheme', isDarkMode ? 'dark' : 'light');
            }
            
            // Toggle fullscreen
            function toggleFullscreen() {
                isFullscreen = !isFullscreen;
                
                if (isFullscreen) {
                    editorSection.classList.add('fullscreen');
                    fullscreenBtn.innerHTML = '<i class="fas fa-compress"></i><span class="hidden md:inline">ย่อ</span>';
                    previewSection.style.display = 'none';
                    resizer.style.display = 'none';
                } else {
                    editorSection.classList.remove('fullscreen');
                    fullscreenBtn.innerHTML = '<i class="fas fa-expand"></i><span class="hidden md:inline">เต็มจอ</span>';
                    previewSection.style.display = 'flex';
                    resizer.style.display = 'block';
                }
            }
            
            // Reset code
            function resetCode() {
                if (confirm(`คุณแน่ใจที่จะรีเซ็ตโค้ด ${languageInfo[currentLanguage].name} ทั้งหมด?`)) {
                    codeMirrorEditor.setValue(codeExamples[currentLanguage]);
                    showNotification('รีเซ็ตสำเร็จ', `รีเซ็ตโค้ด ${languageInfo[currentLanguage].name} เป็นค่าเริ่มต้นแล้ว`, 'success');
                }
            }
            
            // Show download modal
            function showDownloadModal() {
                downloadModal.classList.add('show');
                filenameInput.focus();
            }
            
            // Hide download modal
            function hideDownloadModal() {
                downloadModal.classList.remove('show');
            }
            
            // Download code
            function downloadCode() {
                const content = codeMirrorEditor.getValue();
                const filename = filenameInput.value || `my-code${languageInfo[currentLanguage].extension}`;
                
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
                
                hideDownloadModal();
                showNotification('ดาวน์โหลดสำเร็จ', `ดาวน์โหลดไฟล์ "${filename}" เรียบร้อยแล้ว`, 'success');
            }
            
            // Show notification
            function showNotification(title, message, type = 'success') {
                notificationTitle.textContent = title;
                notificationText.textContent = message;
                
                notificationContent.className = 'notification-content';
                notificationContent.classList.add(`notification-${type}`);
                
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            // Escape HTML
            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }
            
            // Setup resizer
            function setupResizer() {
                resizer.addEventListener('mousedown', function(e) {
                    isResizing = true;
                    document.body.style.cursor = 'col-resize';
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!isResizing) return;
                    
                    const containerWidth = document.querySelector('.split-container').offsetWidth;
                    const mouseX = e.clientX;
                    const containerLeft = document.querySelector('.split-container').getBoundingClientRect().left;
                    
                    editorWidth = ((mouseX - containerLeft) / containerWidth) * 100;
                    
                    if (editorWidth < 20) editorWidth = 20;
                    if (editorWidth > 80) editorWidth = 80;
                    
                    editorSection.style.width = `${editorWidth}%`;
                    previewSection.style.width = `${100 - editorWidth}%`;
                });
                
                document.addEventListener('mouseup', function() {
                    if (isResizing) {
                        isResizing = false;
                        document.body.style.cursor = '';
                        localStorage.setItem('codeTesterEditorWidth', editorWidth);
                    }
                });
                
                const savedWidth = localStorage.getItem('codeTesterEditorWidth');
                if (savedWidth) {
                    editorWidth = parseFloat(savedWidth);
                    editorSection.style.width = `${editorWidth}%`;
                    previewSection.style.width = `${100 - editorWidth}%`;
                }
            }
            
            // Setup keyboard shortcuts
            function setupKeyboardShortcuts() {
                document.addEventListener('keydown', function(e) {
                    if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                        e.preventDefault();
                        saveCode();
                    }
                    
                    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                        e.preventDefault();
                        runCode();
                    }
                });
            }
            
            // Setup event listeners
            function setupEventListeners() {
                runBtn.addEventListener('click', runCode);
                quickRunBtn.addEventListener('click', runCode);
                themeToggle.addEventListener('click', toggleTheme);
                fullscreenBtn.addEventListener('click', toggleFullscreen);
                resetBtn.addEventListener('click', resetCode);
                downloadBtn.addEventListener('click', showDownloadModal);
                confirmDownloadBtn.addEventListener('click', downloadCode);
                cancelDownloadBtn.addEventListener('click', hideDownloadModal);
                
                languageSelectorBtn.addEventListener('click', function() {
                    languageDropdown.classList.toggle('show');
                });
                
                document.querySelectorAll('.language-option').forEach(option => {
                    option.addEventListener('click', function() {
                        const lang = this.dataset.lang;
                        changeLanguage(lang);
                        languageDropdown.classList.remove('show');
                    });
                });
                
                document.addEventListener('click', function(e) {
                    if (!languageSelectorBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
                        languageDropdown.classList.remove('show');
                    }
                });
            }
            
            // Load theme
            function loadTheme() {
                const savedTheme = localStorage.getItem('codeTesterTheme');
                if (savedTheme === 'light') {
                    toggleTheme();
                }
            }
            
            // Initialize app
            function initApp() {
                loadTheme();
                initCodeMirror();
                setupEventListeners();
                setupResizer();
                setupKeyboardShortcuts();
                loadSavedCode();
                
                showNotification('ยินดีต้อนรับ', 'Live Code Tester Pro พร้อมใช้งานแล้ว!', 'success');
            }
            
            // Start the app
            initApp();
        });
    </script>
</body>
</html>
