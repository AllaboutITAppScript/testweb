<!DOCTYPE html>
<html lang="th" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Code Tester Pro - Multi-language Code Editor</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Animate.css for animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .resizer {
            position: absolute;
            top: 0;
            right: -5px;
            width: 10px;
            height: 100%;
            cursor: col-resize;
            z-index: 50;
        }
        
        .resizer:hover {
            background-color: rgba(59, 130, 246, 0.3);
        }
        
        .resizer.active {
            background-color: rgba(59, 130, 246, 0.5);
        }
        
        .code-editor {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            tab-size: 2;
            caret-color: white;
            white-space: pre;
            overflow-wrap: normal;
        }
        
        .code-editor:focus {
            outline: none;
        }
        
        .preview-frame {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
            border-radius: 0.5rem;
        }
        
        .dark .preview-frame {
            background: #1e293b;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .live-indicator {
            animation: pulse 2s infinite;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #374151;
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #6b7280;
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }
        
        /* Split view layout */
        .split-container {
            display: flex;
            height: calc(100vh - 120px);
            position: relative;
            overflow: hidden;
        }
        
        .editor-section {
            width: 50%;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .preview-section {
            width: 50%;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* Editor with line numbers */
        .editor-wrapper {
            position: relative;
            flex: 1;
            overflow: hidden;
        }
        
        .line-numbers {
            position: absolute;
            left: 0;
            top: 0;
            width: 50px;
            height: 100%;
            background-color: #1f2937;
            color: #9ca3af;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.5;
            text-align: right;
            padding-top: 16px;
            padding-right: 10px;
            overflow: hidden;
            user-select: none;
            border-right: 1px solid #374151;
            z-index: 1;
        }
        
        .line-number {
            padding: 0 5px;
            height: 21px; /* Adjust based on line-height */
            display: block;
        }
        
        .line-number.current-line {
            background-color: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
            font-weight: bold;
        }
        
        .line-number:hover {
            background-color: rgba(59, 130, 246, 0.1);
        }
        
        .text-editor {
            position: absolute;
            left: 50px;
            top: 0;
            width: calc(100% - 50px);
            height: 100%;
            background-color: transparent;
            color: #f3f4f6;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            border: none;
            padding: 16px 10px;
            resize: none;
            white-space: pre;
            overflow-wrap: normal;
            overflow: auto;
            z-index: 2;
        }
        
        /* Fullscreen mode */
        .fullscreen {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 1000 !important;
            margin: 0 !important;
            border-radius: 0 !important;
            border: none !important;
        }
        
        .fullscreen .text-editor {
            font-size: 16px !important;
            padding: 20px !important;
        }
        
        .fullscreen .line-numbers {
            width: 60px !important;
            font-size: 16px !important;
            padding-top: 20px !important;
        }
        
        .fullscreen .text-editor {
            left: 60px !important;
            width: calc(100% - 60px) !important;
        }
        
        /* Beautiful Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: -400px;
            z-index: 1000;
            transition: right 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: 350px;
        }
        
        .notification.show {
            right: 20px;
        }
        
        .notification-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .notification-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
        }
        
        .notification-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .notification-error {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        
        .notification-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        .notification-info {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        }
        
        /* Modal for download */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background-color: #1f2937;
            border-radius: 15px;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            transform: translateY(0);
            animation: modalSlideIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Language selector */
        .language-selector {
            position: relative;
            z-index: 10;
        }
        
        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #1f2937;
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 0.5rem 0;
            min-width: 180px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 100;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .language-dropdown.show {
            display: block;
            animation: fadeInDown 0.3s ease;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .language-option {
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            border-left: 3px solid transparent;
        }
        
        .language-option:hover {
            background-color: #374151;
            border-left-color: #3b82f6;
        }
        
        .language-option.active {
            background-color: rgba(59, 130, 246, 0.2);
            border-left-color: #3b82f6;
        }
        
        /* Preview mode buttons */
        .preview-modes {
            display: flex;
            gap: 0.5rem;
            margin-right: 1rem;
        }
        
        .preview-mode-btn {
            padding: 0.5rem 1rem;
            background-color: #374151;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .preview-mode-btn:hover {
            background-color: #4b5563;
            transform: translateY(-2px);
        }
        
        .preview-mode-btn.active {
            background-color: #3b82f6;
            color: white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        /* Screen size modal */
        .screen-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .screen-modal.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .screen-modal-content {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            background-color: #1f2937;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        
        .screen-modal-header {
            padding: 1rem;
            background-color: #111827;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #374151;
        }
        
        .screen-modal-body {
            flex: 1;
            padding: 0.5rem;
            overflow: auto;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }
        
        .screen-modal-frame {
            border: none;
            background-color: white;
            border-radius: 0.375rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .screen-size-info {
            background-color: #374151;
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        /* Console output */
        .console-output {
            background-color: #0f172a;
            color: #e2e8f0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            padding: 1rem;
            overflow: auto;
            height: 100%;
            border-radius: 0.375rem;
        }
        
        .console-line {
            margin-bottom: 0.25rem;
            white-space: pre-wrap;
        }
        
        .console-command {
            color: #10b981;
        }
        
        .console-output-text {
            color: #e2e8f0;
        }
        
        .console-error {
            color: #ef4444;
        }
        
        .console-warning {
            color: #f59e0b;
        }
        
        .console-info {
            color: #3b82f6;
        }
        
        .console-success {
            color: #10b981;
        }
        
        /* Run code button animation */
        @keyframes runButtonPulse {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }
        
        .run-button-animation {
            animation: runButtonPulse 1.5s infinite;
        }
        
        /* Code execution result panel */
        .execution-result {
            background-color: #1e293b;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            border-left: 4px solid #3b82f6;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .execution-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #374151;
        }
        
        .execution-time {
            color: #94a3b8;
            font-size: 0.875rem;
        }
        
        /* Syntax highlighting for different languages */
        .keyword { color: #ff79c6; font-weight: bold; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; font-style: italic; }
        .function { color: #50fa7b; }
        .variable { color: #f8f8f2; }
        .number { color: #bd93f9; }
        .operator { color: #ff79c6; }
        .class-name { color: #8be9fd; }
        .punctuation { color: #f8f8f2; }
        .preprocessor { color: #ffb86c; }
        
        /* Code example selector */
        .example-selector {
            position: absolute;
            top: 10px;
            right: 70px;
            z-index: 10;
        }
        
        .example-btn {
            background-color: #374151;
            color: #e5e7eb;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            transition: all 0.2s;
        }
        
        .example-btn:hover {
            background-color: #4b5563;
        }
        
        /* Tab system for output */
        .output-tabs {
            display: flex;
            border-bottom: 1px solid #374151;
            margin-bottom: 1rem;
        }
        
        .output-tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }
        
        .output-tab:hover {
            background-color: #374151;
        }
        
        .output-tab.active {
            border-bottom-color: #3b82f6;
            color: #3b82f6;
            font-weight: 600;
        }
        
        .output-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .output-content.active {
            display: block;
        }
        
        /* Floating action button */
        .floating-action-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
            border: none;
        }
        
        .floating-action-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 30px rgba(59, 130, 246, 0.4);
        }
        
        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #3b82f6;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="dark:bg-gray-900 dark:text-gray-200 bg-gray-100 text-gray-800 transition-colors duration-300">
    <!-- Beautiful Notification -->
    <div id="notification" class="notification">
        <div class="notification-content" id="notification-content">
            <div class="flex items-center">
                <i class="fas fa-check-circle text-xl mr-3"></i>
                <div>
                    <h4 class="font-bold" id="notification-title">ดำเนินการสำเร็จ</h4>
                    <p class="text-sm opacity-90" id="notification-text">ระบบได้บันทึกโค้ดของคุณแล้ว</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Download Modal -->
    <div id="download-modal" class="modal">
        <div class="modal-content">
            <h3 class="text-xl font-bold mb-4 flex items-center">
                <i class="fas fa-download mr-2 text-blue-500"></i> ดาวน์โหลดไฟล์โค้ด
            </h3>
            <div class="mb-6">
                <label for="filename" class="block mb-2 font-medium">ชื่อไฟล์:</label>
                <input type="text" id="filename" class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all" value="my-code.html">
                <p class="text-sm text-gray-400 mt-2" id="file-extension">ไฟล์จะถูกดาวน์โหลดเป็นไฟล์ .html</p>
            </div>
            <div class="flex justify-end space-x-3">
                <button id="cancel-download" class="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors">ยกเลิก</button>
                <button id="confirm-download" class="px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors flex items-center">
                    <i class="fas fa-download mr-2"></i> ดาวน์โหลด
                </button>
            </div>
        </div>
    </div>
    
    <!-- Screen Preview Modal -->
    <div id="screen-modal" class="screen-modal">
        <div class="screen-modal-content">
            <div class="screen-modal-header">
                <div class="flex items-center space-x-4">
                    <h3 class="text-xl font-bold flex items-center">
                        <i class="fas fa-desktop mr-2 text-blue-500"></i> หน้าจอใหญ่สำหรับทดสอบ
                    </h3>
                    <div id="screen-size-display" class="screen-size-info">ขนาด: เดสก์ท็อป</div>
                </div>
                <div class="flex items-center space-x-3">
                    <button id="mobile-screen" class="preview-mode-btn">
                        <i class="fas fa-mobile-alt"></i> มือถือ
                    </button>
                    <button id="tablet-screen" class="preview-mode-btn">
                        <i class="fas fa-tablet-alt"></i> แท็บเล็ต
                    </button>
                    <button id="desktop-screen" class="preview-mode-btn active">
                        <i class="fas fa-desktop"></i> เดสก์ท็อป
                    </button>
                    <button id="full-screen" class="preview-mode-btn">
                        <i class="fas fa-expand"></i> เต็มจอ
                    </button>
                    <button id="close-screen-modal" class="px-4 py-2 bg-red-600 rounded-lg hover:bg-red-700 transition-colors flex items-center">
                        <i class="fas fa-times mr-2"></i> ปิด
                    </button>
                </div>
            </div>
            <div class="screen-modal-body">
                <iframe id="screen-frame" class="screen-modal-frame"></iframe>
            </div>
        </div>
    </div>
    
    <!-- Floating Action Button for Quick Actions -->
    <button id="quick-run-btn" class="floating-action-btn" title="รันโค้ด (Ctrl+Enter)">
        <i class="fas fa-play"></i>
    </button>
    
    <div class="container mx-auto px-4 py-2 h-screen flex flex-col">
        <!-- Header -->
        <header class="flex flex-col md:flex-row justify-between items-center mb-4 py-3">
            <div class="flex items-center space-x-3 mb-3 md:mb-0">
                <div class="bg-gradient-to-br from-blue-600 to-purple-600 p-2 rounded-lg shadow-lg">
                    <i class="fas fa-code text-white text-xl"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">Live Code Tester Pro</h1>
                    <p class="text-sm text-gray-500 dark:text-gray-400">ทดสอบโค้ดหลายภาษาแบบเรียลไทม์</p>
                </div>
            </div>
            
            <!-- Controls -->
            <div class="flex flex-wrap gap-3 items-center">
                <div class="flex items-center space-x-2">
                    <span class="text-sm hidden md:block">ภาษา:</span>
                    <div class="language-selector">
                        <button id="language-selector-btn" class="bg-gray-800 dark:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors shadow-md">
                            <i class="fab fa-html5 text-orange-500"></i>
                            <span id="current-language">HTML</span>
                            <i class="fas fa-chevron-down ml-1"></i>
                        </button>
                        <div id="language-dropdown" class="language-dropdown">
                            <div class="language-option active" data-lang="html">
                                <i class="fab fa-html5 mr-2 text-orange-500"></i>
                                <div>
                                    <div class="font-medium">HTML</div>
                                    <div class="text-xs text-gray-400">สำหรับเว็บเพจ</div>
                                </div>
                            </div>
                            <div class="language-option" data-lang="python">
                                <i class="fab fa-python mr-2 text-yellow-500"></i>
                                <div>
                                    <div class="font-medium">Python</div>
                                    <div class="text-xs text-gray-400">ภาษาสคริปต์</div>
                                </div>
                            </div>
                            <div class="language-option" data-lang="csharp">
                                <i class="fas fa-code mr-2 text-purple-500"></i>
                                <div>
                                    <div class="font-medium">C#</div>
                                    <div class="text-xs text-gray-400">Microsoft .NET</div>
                                </div>
                            </div>
                            <div class="language-option" data-lang="cpp">
                                <i class="fas fa-cog mr-2 text-blue-500"></i>
                                <div>
                                    <div class="font-medium">C++</div>
                                    <div class="text-xs text-gray-400">ภาษาเชิงระบบ</div>
                                </div>
                            </div>
                            <div class="language-option" data-lang="c">
                                <i class="fas fa-cog mr-2 text-blue-300"></i>
                                <div>
                                    <div class="font-medium">C</div>
                                    <div class="text-xs text-gray-400">ภาษาโปรแกรมพื้นฐาน</div>
                                </div>
                            </div>
                            <div class="language-option" data-lang="php">
                                <i class="fab fa-php mr-2 text-indigo-500"></i>
                                <div>
                                    <div class="font-medium">PHP</div>
                                    <div class="text-xs text-gray-400">เว็บเซิร์ฟเวอร์</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-2">
                    <span class="text-sm hidden md:block">ธีม:</span>
                    <button id="theme-toggle" class="bg-gray-800 dark:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors shadow-md">
                        <i class="fas fa-moon"></i>
                        <span id="theme-text">ดาร์ก</span>
                    </button>
                </div>
                
                <div class="flex items-center space-x-2">
                    <span class="text-sm hidden md:block">อัปเดต:</span>
                    <div class="flex space-x-2">
                        <button id="live-toggle" class="bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-green-700 transition-colors shadow-md">
                            <i class="fas fa-play"></i>
                            <span id="live-text">Live</span>
                        </button>
                        <button id="run-btn" class="bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:from-blue-600 hover:to-blue-800 transition-all shadow-md run-button-animation">
                            <i class="fas fa-play-circle"></i>
                            <span>รันโค้ด</span>
                        </button>
                    </div>
                </div>
                
                <button id="download-btn" class="bg-gradient-to-r from-purple-500 to-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:from-purple-600 hover:to-purple-800 transition-all shadow-md">
                    <i class="fas fa-download"></i>
                    <span>ดาวน์โหลด</span>
                </button>
                
                <button id="reset-btn" class="bg-gradient-to-r from-red-500 to-red-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:from-red-600 hover:to-red-800 transition-all shadow-md">
                    <i class="fas fa-trash-alt"></i>
                    <span>รีเซ็ต</span>
                </button>
            </div>
        </header>
        
        <!-- Live Indicator -->
        <div class="flex items-center justify-center mb-2">
            <div id="live-indicator" class="flex items-center space-x-2 bg-gradient-to-r from-green-900 to-green-700 text-green-200 px-4 py-2 rounded-lg shadow">
                <i class="fas fa-circle live-indicator"></i>
                <span id="live-status-text">อัปเดตแบบเรียลไทม์</span>
            </div>
        </div>
        
        <!-- Split View Container -->
        <div class="split-container">
            <!-- Editor Panel -->
            <div class="editor-section bg-gray-900 dark:bg-gray-800 rounded-lg border border-gray-700 relative shadow-lg">
                <div class="flex justify-between items-center bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-900 dark:to-gray-800 px-4 py-3 rounded-t-lg border-b border-gray-700">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-code text-green-400"></i>
                        <h2 class="font-bold" id="editor-title">HTML Editor</h2>
                        <span class="text-xs bg-blue-900 text-blue-200 px-2 py-1 rounded">Line Numbers: ON</span>
                        <div class="example-selector">
                            <button id="example-btn" class="example-btn">
                                <i class="fas fa-code-branch"></i> ตัวอย่างโค้ด
                            </button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <div class="text-sm text-gray-400 hidden md:block">
                            <i class="fas fa-expand-arrows-alt mr-1"></i>
                            <span>ลากเส้นแบ่งเพื่อปรับขนาด</span>
                        </div>
                        <button id="fullscreen-btn" class="ml-2 bg-gray-700 text-white px-3 py-1.5 rounded-lg flex items-center space-x-2 hover:bg-gray-600 transition-colors">
                            <i class="fas fa-expand"></i>
                            <span class="hidden md:inline">เต็มจอ</span>
                        </button>
                    </div>
                </div>
                
                <div class="editor-wrapper">
                    <div id="line-numbers-container" class="line-numbers">
                        <!-- Line numbers will be generated here -->
                    </div>
                    <textarea id="code-editor" class="text-editor" spellcheck="false" placeholder="เริ่มต้นเขียนโค้ดที่นี่..."></textarea>
                </div>
                
                <!-- Resizer -->
                <div class="resizer"></div>
            </div>
            
            <!-- Preview Panel -->
            <div class="preview-section bg-gray-800 dark:bg-gray-700 rounded-lg border border-gray-700 shadow-lg">
                <div class="flex justify-between items-center bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-900 dark:to-gray-800 px-4 py-3 rounded-t-lg border-b border-gray-700">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-eye text-blue-400"></i>
                        <h2 class="font-bold">ผลลัพธ์</h2>
                    </div>
                    <div class="flex items-center">
                        <div class="preview-modes">
                            <button id="preview-html" class="preview-mode-btn active">
                                <i class="fas fa-code"></i> HTML Preview
                            </button>
                            <button id="preview-console" class="preview-mode-btn">
                                <i class="fas fa-terminal"></i> Console
                            </button>
                            <button id="preview-screen" class="preview-mode-btn">
                                <i class="fas fa-desktop"></i> หน้าจอใหญ่
                            </button>
                        </div>
                        <div class="text-sm text-gray-400 ml-4">
                            <i class="fas fa-clock mr-1"></i>
                            <span>อัปเดตล่าสุด: <span id="last-update">-</span></span>
                        </div>
                    </div>
                </div>
                
                <div class="flex-1 p-2 overflow-hidden">
                    <!-- Output Tabs -->
                    <div class="output-tabs">
                        <div class="output-tab active" data-tab="preview">Preview</div>
                        <div class="output-tab" data-tab="console">Console</div>
                        <div class="output-tab" data-tab="result">ผลการรัน</div>
                    </div>
                    
                    <!-- Output Contents -->
                    <div id="preview-content" class="output-content active h-full">
                        <iframe id="preview-frame" class="preview-frame" sandbox="allow-scripts allow-same-origin"></iframe>
                    </div>
                    
                    <div id="console-content" class="output-content h-full">
                        <div class="console-output">
                            <div class="console-line console-command">$ ระบบคอนโซลพร้อมใช้งาน</div>
                            <div class="console-line console-info">$ พิมพ์โค้ดในแถบด้านซ้าย แล้วคลิกปุ่ม "รันโค้ด"</div>
                            <div id="console-output-content"></div>
                        </div>
                    </div>
                    
                    <div id="result-content" class="output-content h-full">
                        <div class="console-output">
                            <div class="execution-result">
                                <div class="execution-header">
                                    <h4 class="font-bold text-lg">ผลการรันโค้ด</h4>
                                    <div class="execution-time" id="execution-time">-</div>
                                </div>
                                <div id="execution-result-content">
                                    <div class="console-line console-info">ยังไม่ได้รันโค้ด</div>
                                    <div class="console-line console-info">คลิกปุ่ม "รันโค้ด" เพื่อทดสอบโค้ดของคุณ</div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <h4 class="font-bold mb-2">สถิติ</h4>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <div class="bg-gray-800 p-2 rounded">
                                        <div class="text-gray-400">ภาษา</div>
                                        <div id="stat-language" class="font-medium">HTML</div>
                                    </div>
                                    <div class="bg-gray-800 p-2 rounded">
                                        <div class="text-gray-400">บรรทัด</div>
                                        <div id="stat-lines" class="font-medium">0</div>
                                    </div>
                                    <div class="bg-gray-800 p-2 rounded">
                                        <div class="text-gray-400">ขนาดไฟล์</div>
                                        <div id="stat-size" class="font-medium">0 KB</div>
                                    </div>
                                    <div class="bg-gray-800 p-2 rounded">
                                        <div class="text-gray-400">เวลารันล่าสุด</div>
                                        <div id="stat-last-run" class="font-medium">-</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="mt-4 pt-3 border-t border-gray-700">
            <div class="flex flex-col md:flex-row justify-between items-center text-sm text-gray-500 dark:text-gray-400">
                <div class="mb-2 md:mb-0 text-center md:text-left">
                    <p class="flex items-center">
                        <i class="fas fa-code mr-1"></i> Live Code Tester Pro - รองรับ HTML, Python, C#, C++, C, PHP
                    </p>
                </div>
                <div class="flex flex-wrap justify-center gap-4">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-keyboard"></i>
                        <span>กด <kbd class="px-2 py-1 bg-gray-800 rounded shadow">Ctrl+S</kbd> เพื่อบันทึก</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-bolt"></i>
                        <span>กด <kbd class="px-2 py-1 bg-gray-800 rounded shadow">Ctrl+Enter</kbd> เพื่อรันโค้ด</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-expand"></i>
                        <span>กด <kbd class="px-2 py-1 bg-gray-800 rounded shadow">F11</kbd> เพื่อเต็มจอ</span>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // เริ่มต้นแอปพลิเคชันเมื่อ DOM โหลดเสร็จ
        document.addEventListener('DOMContentLoaded', function() {
            // เก็บ reference ไปยัง element สำคัญ
            const codeEditor = document.getElementById('code-editor');
            const previewFrame = document.getElementById('preview-frame');
            const screenFrame = document.getElementById('screen-frame');
            const lineNumbersContainer = document.getElementById('line-numbers-container');
            const themeToggle = document.getElementById('theme-toggle');
            const themeText = document.getElementById('theme-text');
            const liveToggle = document.getElementById('live-toggle');
            const liveText = document.getElementById('live-text');
            const liveIndicator = document.getElementById('live-indicator');
            const liveStatusText = document.getElementById('live-status-text');
            const runBtn = document.getElementById('run-btn');
            const quickRunBtn = document.getElementById('quick-run-btn');
            const resetBtn = document.getElementById('reset-btn');
            const downloadBtn = document.getElementById('download-btn');
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const lastUpdateEl = document.getElementById('last-update');
            const resizer = document.querySelector('.resizer');
            const editorSection = document.querySelector('.editor-section');
            const previewSection = document.querySelector('.preview-section');
            const notification = document.getElementById('notification');
            const notificationTitle = document.getElementById('notification-title');
            const notificationText = document.getElementById('notification-text');
            const notificationContent = document.getElementById('notification-content');
            const downloadModal = document.getElementById('download-modal');
            const filenameInput = document.getElementById('filename');
            const fileExtensionText = document.getElementById('file-extension');
            const confirmDownloadBtn = document.getElementById('confirm-download');
            const cancelDownloadBtn = document.getElementById('cancel-download');
            const screenModal = document.getElementById('screen-modal');
            const screenSizeDisplay = document.getElementById('screen-size-display');
            const closeScreenModal = document.getElementById('close-screen-modal');
            const mobileScreenBtn = document.getElementById('mobile-screen');
            const tabletScreenBtn = document.getElementById('tablet-screen');
            const desktopScreenBtn = document.getElementById('desktop-screen');
            const fullScreenBtn = document.getElementById('full-screen');
            const languageSelectorBtn = document.getElementById('language-selector-btn');
            const languageDropdown = document.getElementById('language-dropdown');
            const currentLanguageEl = document.getElementById('current-language');
            const editorTitle = document.getElementById('editor-title');
            const previewHtmlBtn = document.getElementById('preview-html');
            const previewScreenBtn = document.getElementById('preview-screen');
            const previewConsoleBtn = document.getElementById('preview-console');
            const consoleOutputContent = document.getElementById('console-output-content');
            const executionResultContent = document.getElementById('execution-result-content');
            const executionTime = document.getElementById('execution-time');
            const statLanguage = document.getElementById('stat-language');
            const statLines = document.getElementById('stat-lines');
            const statSize = document.getElementById('stat-size');
            const statLastRun = document.getElementById('stat-last-run');
            const exampleBtn = document.getElementById('example-btn');
            const outputTabs = document.querySelectorAll('.output-tab');
            const outputContents = document.querySelectorAll('.output-content');
            
            // ตัวแปรสถานะ
            let isLiveMode = true;
            let isDarkMode = true;
            let isResizing = false;
            let isFullscreen = false;
            let editorWidth = 50; // เปอร์เซ็นต์
            let currentLine = 1;
            let currentLanguage = 'html';
            let currentScreenSize = 'desktop';
            let isRunningCode = false;
            
            // ตัวอย่างโค้ดสำหรับแต่ละภาษา
            const codeExamples = {
                html: `<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เว็บไซต์ตัวอย่าง Live Tester</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, #fbbf24, #f87171);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .content {
            padding: 3rem 2rem;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .feature {
            background: #f8fafc;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .feature:hover {
            transform: translateY(-10px);
            border-color: #3b82f6;
            box-shadow: 0 15px 30px rgba(59, 130, 246, 0.2);
        }
        
        .feature i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #3b82f6;
        }
        
        .feature h3 {
            color: #1e293b;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        
        .demo-section {
            background: #f1f5f9;
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
        }
        
        .counter-box {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            margin: 2rem 0;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .counter {
            font-size: 4rem;
            font-weight: bold;
            color: #3b82f6;
            margin: 1rem 0;
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }
        
        .btn {
            padding: 0.8rem 1.8rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        
        .btn-secondary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }
        
        .btn-danger:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(239, 68, 68, 0.3);
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            color: #64748b;
            border-top: 1px solid #e2e8f0;
            background: #f8fafc;
        }
        
        .logo {
            font-size: 2rem;
            font-weight: bold;
            color: #3b82f6;
            margin-bottom: 1rem;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Live Code Tester Pro</h1>
            <p class="subtitle">ทดสอบโค้ด HTML, CSS และ JavaScript แบบเรียลไทม์</p>
        </header>
        
        <div class="content">
            <div class="features">
                <div class="feature">
                    <i class="fas fa-bolt"></i>
                    <h3>รันโค้ดแบบเรียลไทม์</h3>
                    <p>เห็นผลลัพธ์ทันทีที่เขียนโค้ด</p>
                </div>
                
                <div class="feature">
                    <i class="fas fa-code"></i>
                    <h3>รองรับหลายภาษา</h3>
                    <p>HTML, CSS, JavaScript, Python, C#, C++, C, PHP</p>
                </div>
                
                <div class="feature">
                    <i class="fas fa-mobile-alt"></i>
                    <h3>ตอบสนองทุกอุปกรณ์</h3>
                    <p>ปรับตัวอัตโนมัติตามขนาดหน้าจอ</p>
                </div>
            </div>
            
            <div class="demo-section">
                <h2 style="text-align: center; color: #1e293b; margin-bottom: 1.5rem;">ทดสอบ Interactive Demo</h2>
                
                <div class="counter-box">
                    <h3 style="color: #3b82f6; margin-bottom: 1rem;">ตัวนับแบบอินเทอร์แอคทีฟ</h3>
                    <div class="counter" id="demo-counter">0</div>
                    
                    <div class="buttons">
                        <button class="btn btn-primary" onclick="incrementCounter()">
                            <i class="fas fa-plus"></i> เพิ่มค่า
                        </button>
                        <button class="btn btn-secondary" onclick="decrementCounter()">
                            <i class="fas fa-minus"></i> ลดค่า
                        </button>
                        <button class="btn btn-danger" onclick="resetCounter()">
                            <i class="fas fa-redo"></i> รีเซ็ต
                        </button>
                    </div>
                    
                    <p id="counter-status" style="margin-top: 1rem; color: #64748b;">เริ่มต้นใช้งานตัวนับ</p>
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <button class="btn btn-primary" onclick="showCustomAlert()">
                        <i class="fas fa-exclamation-circle"></i> ทดสอบการแจ้งเตือน
                    </button>
                    <button class="btn btn-secondary" onclick="changeTheme()">
                        <i class="fas fa-palette"></i> เปลี่ยนธีม
                    </button>
                </div>
            </div>
        </div>
        
        <footer>
            <div class="logo">Live Tester</div>
            <p>สร้างด้วย ❤️ โดยทีมพัฒนาซอฟต์แวร์</p>
            <p style="margin-top: 1rem; font-size: 0.9rem;">
                เวลาเซิร์ฟเวอร์: <span id="server-time">${new Date().toLocaleTimeString('th-TH')}</span>
            </p>
        </footer>
    </div>
    
    <script>
        let counter = 0;
        const counterElement = document.getElementById('demo-counter');
        const counterStatus = document.getElementById('counter-status');
        const serverTimeElement = document.getElementById('server-time');
        
        // อัปเดตเวลา
        function updateTime() {
            serverTimeElement.textContent = new Date().toLocaleTimeString('th-TH');
        }
        setInterval(updateTime, 1000);
        
        function incrementCounter() {
            counter++;
            updateCounter();
            counterStatus.textContent = \`เพิ่มค่าเป็น \${counter} เมื่อ \${new Date().toLocaleTimeString('th-TH')}\`;
            counterStatus.style.color = '#10b981';
        }
        
        function decrementCounter() {
            counter--;
            updateCounter();
            counterStatus.textContent = \`ลดค่าเป็น \${counter} เมื่อ \${new Date().toLocaleTimeString('th-TH')}\`;
            counterStatus.style.color = '#ef4444';
        }
        
        function resetCounter() {
            counter = 0;
            updateCounter();
            counterStatus.textContent = \`รีเซ็ตค่าเป็น 0 เมื่อ \${new Date().toLocaleTimeString('th-TH')}\`;
            counterStatus.style.color = '#3b82f6';
        }
        
        function updateCounter() {
            counterElement.textContent = counter;
            
            // เปลี่ยนสี counter ตามค่า
            if (counter > 0) {
                counterElement.style.color = '#10b981';
            } else if (counter < 0) {
                counterElement.style.color = '#ef4444';
            } else {
                counterElement.style.color = '#3b82f6';
            }
        }
        
        function showCustomAlert() {
            // สร้างการแจ้งเตือนที่สวยงามแทน alert ปกติ
            const alertBox = document.createElement('div');
            alertBox.style.cssText = \`
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
                color: white;
                padding: 2rem;
                border-radius: 15px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                z-index: 1000;
                text-align: center;
                max-width: 400px;
                width: 90%;
                animation: fadeIn 0.3s ease;
            \`;
            
            alertBox.innerHTML = \`
                <i class="fas fa-info-circle" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                <h3 style="margin-bottom: 1rem; font-size: 1.5rem;">การแจ้งเตือนที่สวยงาม</h3>
                <p style="margin-bottom: 1.5rem;">นี่คือตัวอย่างการแจ้งเตือนที่ออกแบบให้สวยงามแทนการใช้ alert() ปกติ</p>
                <button onclick="this.parentElement.remove()" style="
                    background: white;
                    color: #3b82f6;
                    border: none;
                    padding: 0.8rem 2rem;
                    border-radius: 8px;
                    font-weight: bold;
                    cursor: pointer;
                    transition: all 0.3s ease;
                ">ตกลง</button>
            \`;
            
            document.body.appendChild(alertBox);
            
            counterStatus.textContent = \`แสดงการแจ้งเตือนเมื่อ \${new Date().toLocaleTimeString('th-TH')}\`;
            counterStatus.style.color = '#f59e0b';
        }
        
        function changeTheme() {
            const container = document.querySelector('.container');
            const isDark = container.style.background.includes('1e293b');
            
            if (isDark) {
                container.style.background = 'white';
                container.style.color = '#333';
                counterStatus.textContent = 'เปลี่ยนเป็นธีมสว่าง';
            } else {
                container.style.background = '#1e293b';
                container.style.color = 'white';
                counterStatus.textContent = 'เปลี่ยนเป็นธีมเข้ม';
            }
            
            counterStatus.style.color = '#8b5cf6';
        }
        
        // เริ่มต้น
        updateCounter();
        updateTime();
        
        console.log('ระบบตัวอย่าง HTML พร้อมใช้งาน!');
    </script>
</body>
</html>`,
                
                python: `# โปรแกรมภาษา Python ตัวอย่าง
# แสดงความสามารถของ Python

import random
import math
import datetime
import json

class Student:
    def __init__(self, name, age, grades):
        self.name = name
        self.age = age
        self.grades = grades
    
    def average_grade(self):
        return sum(self.grades) / len(self.grades) if self.grades else 0
    
    def get_grade_level(self):
        avg = self.average_grade()
        if avg >= 80:
            return "ดีมาก"
        elif avg >= 70:
            return "ดี"
        elif avg >= 60:
            return "พอใช้"
        else:
            return "ปรับปรุง"
    
    def __str__(self):
        return f"นักเรียน: {self.name}, อายุ: {self.age}, เกรดเฉลี่ย: {self.average_grade():.2f}"

def fibonacci(n):
    """คำนวณลำดับ Fibonacci"""
    if n <= 0:
        return []
    elif n == 1:
        return [0]
    elif n == 2:
        return [0, 1]
    
    fib_sequence = [0, 1]
    for i in range(2, n):
        fib_sequence.append(fib_sequence[i-1] + fib_sequence[i-2])
    
    return fib_sequence

def is_prime(num):
    """ตรวจสอบว่าตัวเลขเป็นจำนวนเฉพาะหรือไม่"""
    if num <= 1:
        return False
    if num <= 3:
        return True
    if num % 2 == 0 or num % 3 == 0:
        return False
    
    i = 5
    while i * i <= num:
        if num % i == 0 or num % (i + 2) == 0:
            return False
        i += 6
    
    return True

def generate_random_data(n):
    """สร้างข้อมูลสุ่ม"""
    return [random.randint(1, 100) for _ in range(n)]

def main():
    print("=" * 60)
    print("โปรแกรมภาษา Python ตัวอย่าง")
    print("=" * 60)
    print(f"วันที่รันโปรแกรม: {datetime.datetime.now().strftime('%d/%m/%Y %H:%M:%S')}")
    print()
    
    # ข้อมูลนักเรียน
    students = [
        Student("สมชาย", 18, [85, 90, 78, 92, 88]),
        Student("สมหญิง", 17, [95, 92, 98, 90, 96]),
        Student("สมหมาย", 19, [65, 70, 68, 72, 70]),
        Student("สมศรี", 18, [55, 60, 58, 62, 65]),
        Student("สมาน", 17, [45, 50, 48, 52, 55])
    ]
    
    print("ข้อมูลนักเรียน:")
    print("-" * 50)
    for student in students:
        print(f"  {student}")
        print(f"    ระดับ: {student.get_grade_level()}")
    print()
    
    # Fibonacci
    fib_count = 15
    fib_numbers = fibonacci(fib_count)
    print(f"ลำดับ Fibonacci {fib_count} ตัวแรก:")
    print(f"  {fib_numbers}")
    print()
    
    # จำนวนเฉพาะ
    print("ตรวจสอบจำนวนเฉพาะ:")
    prime_numbers = [num for num in range(1, 31) if is_prime(num)]
    print(f"  จำนวนเฉพาะ 1-30: {prime_numbers}")
    print()
    
    # สุ่มข้อมูล
    random_data = generate_random_data(10)
    print("ข้อมูลสุ่ม 10 ตัว:")
    print(f"  ข้อมูล: {random_data}")
    print(f"  ค่าสูงสุด: {max(random_data)}")
    print(f"  ค่าต่ำสุด: {min(random_data)}")
    print(f"  ค่าเฉลี่ย: {sum(random_data)/len(random_data):.2f}")
    print()
    
    # การคำนวณทางคณิตศาสตร์
    print("การคำนวณทางคณิตศาสตร์:")
    numbers = list(range(1, 11))
    squares = [x**2 for x in numbers]
    cubes = [x**3 for x in numbers]
    
    print(f"  ตัวเลข: {numbers}")
    print(f"  ยกกำลังสอง: {squares}")
    print(f"  ยกกำลังสาม: {cubes}")
    print()
    
    # การใช้งาน dictionary
    print("ข้อมูล dictionary:")
    student_dict = {
        "สมชาย": {"age": 18, "grade": "A"},
        "สมหญิง": {"age": 17, "grade": "A+"},
        "สมหมาย": {"age": 19, "grade": "B"}
    }
    
    for name, info in student_dict.items():
        print(f"  {name}: อายุ {info['age']}, เกรด {info['grade']}")
    print()
    
    # การทำงานกับไฟล์ JSON (จำลอง)
    print("การทำงานกับ JSON:")
    data = {
        "project": "Python Code Tester",
        "version": "1.0",
        "languages": ["Python", "JavaScript", "Java"],
        "features": ["Real-time", "Multi-language", "Interactive"]
    }
    
    json_str = json.dumps(data, indent=2, ensure_ascii=False)
    print("  ข้อมูล JSON:")
    for line in json_str.split('\\n'):
        print(f"    {line}")
    print()
    
    # ฟังก์ชัน lambda
    print("การใช้ฟังก์ชัน lambda:")
    numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
    squared_numbers = list(map(lambda x: x**2, numbers))
    
    print(f"  เลขคู่: {even_numbers}")
    print(f"  ยกกำลังสอง: {squared_numbers}")
    print()
    
    print("=" * 60)
    print("สิ้นสุดโปรแกรมตัวอย่าง Python")
    print("=" * 60)

if __name__ == "__main__":
    main()`,
                
                csharp: `using System;
using System.Collections.Generic;
using System.Linq;

namespace CodeTesterExample
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.ForegroundColor = ConsoleColor.Cyan;
            Console.WriteLine("========================================================");
            Console.WriteLine("        โปรแกรมภาษา C# ตัวอย่าง - Code Tester           ");
            Console.WriteLine("========================================================");
            Console.ResetColor();
            Console.WriteLine();
            
            // ข้อมูลนักเรียน
            List<Student> students = new List<Student>
            {
                new Student("สมชาย", 18, new List<int> {85, 90, 78, 92, 88}),
                new Student("สมหญิง", 17, new List<int> {95, 92, 98, 90, 96}),
                new Student("สมหมาย", 19, new List<int> {65, 70, 68, 72, 70}),
                new Student("สมศรี", 18, new List<int> {55, 60, 58, 62, 65}),
                new Student("สมาน", 17, new List<int> {45, 50, 48, 52, 55})
            };
            
            // แสดงข้อมูลนักเรียน
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.WriteLine("ข้อมูลนักเรียน:");
            Console.ResetColor();
            Console.WriteLine(new string('-', 50));
            
            foreach (var student in students)
            {
                Console.WriteLine($"  {student}");
                Console.WriteLine($"    เกรดเฉลี่ย: {student.AverageGrade:F2}");
                Console.WriteLine($"    ระดับ: {student.GetGradeLevel()}");
            }
            Console.WriteLine();
            
            // Fibonacci Sequence
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.WriteLine("ลำดับ Fibonacci 15 ตัวแรก:");
            Console.ResetColor();
            var fibonacci = GenerateFibonacci(15);
            Console.WriteLine($"  {string.Join(", ", fibonacci)}");
            Console.WriteLine();
            
            // จำนวนเฉพาะ
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.WriteLine("ตรวจสอบจำนวนเฉพาะ 1-30:");
            Console.ResetColor();
            var primes = new List<int>();
            for (int i = 1; i <= 30; i++)
            {
                if (IsPrime(i))
                    primes.Add(i);
            }
            Console.WriteLine($"  {string.Join(", ", primes)}");
            Console.WriteLine();
            
            // LINQ Examples
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.WriteLine("ตัวอย่างการใช้ LINQ:");
            Console.ResetColor();
            
            var numbers = Enumerable.Range(1, 20).ToList();
            
            // เลขคู่
            var evenNumbers = numbers.Where(n => n % 2 == 0).ToList();
            Console.WriteLine($"  เลขคู่ 1-20: {string.Join(", ", evenNumbers)}");
            
            // เลขคี่ที่มากกว่า 10
            var oddGreaterThan10 = numbers.Where(n => n % 2 != 0 && n > 10).ToList();
            Console.WriteLine($"  เลขคี่ที่มากกว่า 10: {string.Join(", ", oddGreaterThan10)}");
            
            // ยกกำลังสอง
            var squares = numbers.Select(n => n * n).ToList();
            Console.WriteLine($"  ยกกำลังสอง 1-10: {string.Join(", ", squares.Take(10))}");
            Console.WriteLine();
            
            // การเรียงลำดับ
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.WriteLine("การเรียงลำดับข้อมูล:");
            Console.ResetColor();
            
            var sortedStudents = students.OrderByDescending(s => s.AverageGrade).ToList();
            Console.WriteLine("  นักเรียนเรียงตามเกรดเฉลี่ย (จากสูงไปต่ำ):");
            foreach (var student in sortedStudents)
            {
                Console.WriteLine($"    {student.Name}: {student.AverageGrade:F2}");
            }
            Console.WriteLine();
            
            // DateTime Examples
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.WriteLine("การทำงานกับวันที่และเวลา:");
            Console.ResetColor();
            
            DateTime now = DateTime.Now;
            Console.WriteLine($"  วันที่ปัจจุบัน: {now:dd/MM/yyyy}");
            Console.WriteLine($"  เวลาปัจจุบัน: {now:HH:mm:ss}");
            Console.WriteLine($"  วันในสัปดาห์: {now:dddd}");
            
            DateTime tomorrow = now.AddDays(1);
            Console.WriteLine($"  พรุ่งนี้: {tomorrow:dd/MM/yyyy}");
            Console.WriteLine();
            
            // Math Operations
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.WriteLine("การคำนวณทางคณิตศาสตร์:");
            Console.ResetColor();
            
            double radius = 7.5;
            double area = Math.PI * Math.Pow(radius, 2);
            double circumference = 2 * Math.PI * radius;
            
            Console.WriteLine($"  รัศมีวงกลม: {radius}");
            Console.WriteLine($"    พื้นที่วงกลม: {area:F2}");
            Console.WriteLine($"    เส้นรอบวง: {circumference:F2}");
            Console.WriteLine();
            
            // Random Numbers
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.WriteLine("ตัวเลขสุ่ม:");
            Console.ResetColor();
            
            Random random = new Random();
            var randomNumbers = new List<int>();
            for (int i = 0; i < 10; i++)
            {
                randomNumbers.Add(random.Next(1, 101));
            }
            
            Console.WriteLine($"  ตัวเลขสุ่ม 10 ตัว (1-100): {string.Join(", ", randomNumbers)}");
            Console.WriteLine($"  ค่าสูงสุด: {randomNumbers.Max()}");
            Console.WriteLine($"  ค่าต่ำสุด: {randomNumbers.Min()}");
            Console.WriteLine($"  ค่าเฉลี่ย: {randomNumbers.Average():F2}");
            Console.WriteLine();
            
            Console.ForegroundColor = ConsoleColor.Green;
            Console.WriteLine("========================================================");
            Console.WriteLine("        สิ้นสุดโปรแกรมตัวอย่าง C#                      ");
            Console.WriteLine("========================================================");
            Console.ResetColor();
        }
        
        static List<int> GenerateFibonacci(int n)
        {
            var fibonacci = new List<int>();
            
            if (n <= 0) return fibonacci;
            if (n >= 1) fibonacci.Add(0);
            if (n >= 2) fibonacci.Add(1);
            
            for (int i = 2; i < n; i++)
            {
                fibonacci.Add(fibonacci[i - 1] + fibonacci[i - 2]);
            }
            
            return fibonacci;
        }
        
        static bool IsPrime(int number)
        {
            if (number <= 1) return false;
            if (number <= 3) return true;
            if (number % 2 == 0 || number % 3 == 0) return false;
            
            for (int i = 5; i * i <= number; i += 6)
            {
                if (number % i == 0 || number % (i + 2) == 0)
                    return false;
            }
            
            return true;
        }
    }
    
    class Student
    {
        public string Name { get; set; }
        public int Age { get; set; }
        public List<int> Grades { get; set; }
        
        public Student(string name, int age, List<int> grades)
        {
            Name = name;
            Age = age;
            Grades = grades;
        }
        
        public double AverageGrade
        {
            get
            {
                if (Grades == null || Grades.Count == 0)
                    return 0;
                return Grades.Average();
            }
        }
        
        public string GetGradeLevel()
        {
            double avg = AverageGrade;
            if (avg >= 80) return "ดีมาก";
            if (avg >= 70) return "ดี";
            if (avg >= 60) return "พอใช้";
            return "ปรับปรุง";
        }
        
        public override string ToString()
        {
            return $"นักเรียน: {Name}, อายุ: {Age}";
        }
    }
}`,
                
                cpp: `#include <iostream>
#include <vector>
#include <string>
#include <algorithm>
#include <cmath>
#include <ctime>
#include <iomanip>

using namespace std;

// คลาสนักเรียน
class Student {
private:
    string name;
    int age;
    vector<int> grades;
    
public:
    // Constructor
    Student(string n, int a, vector<int> g) : name(n), age(a), grades(g) {}
    
    // Getter methods
    string getName() const { return name; }
    int getAge() const { return age; }
    vector<int> getGrades() const { return grades; }
    
    // คำนวณเกรดเฉลี่ย
    double getAverage() const {
        if (grades.empty()) return 0.0;
        
        double sum = 0.0;
        for (int grade : grades) {
            sum += grade;
        }
        return sum / grades.size();
    }
    
    // ระดับความสำเร็จ
    string getGradeLevel() const {
        double avg = getAverage();
        if (avg >= 80) return "ดีมาก";
        if (avg >= 70) return "ดี";
        if (avg >= 60) return "พอใช้";
        return "ปรับปรุง";
    }
    
    // Display student info
    void display() const {
        cout << "  " << name << " (อายุ " << age << " ปี)" << endl;
        cout << "    เกรดเฉลี่ย: " << fixed << setprecision(2) << getAverage() << endl;
        cout << "    ระดับ: " << getGradeLevel() << endl;
    }
};

// ฟังก์ชันคำนวณ Fibonacci
vector<int> fibonacci(int n) {
    vector<int> fib;
    
    if (n <= 0) return fib;
    if (n >= 1) fib.push_back(0);
    if (n >= 2) fib.push_back(1);
    
    for (int i = 2; i < n; i++) {
        fib.push_back(fib[i-1] + fib[i-2]);
    }
    
    return fib;
}

// ฟังก์ชันตรวจสอบจำนวนเฉพาะ
bool isPrime(int num) {
    if (num <= 1) return false;
    if (num <= 3) return true;
    if (num % 2 == 0 || num % 3 == 0) return false;
    
    for (int i = 5; i * i <= num; i += 6) {
        if (num % i == 0 || num % (i + 2) == 0) {
            return false;
        }
    }
    
    return true;
}

// ฟังก์ชันแสดงข้อมูล vector
template<typename T>
void printVector(const string& label, const vector<T>& vec, int limit = 0) {
    cout << "  " << label << ": ";
    
    int count = (limit > 0 && limit < vec.size()) ? limit : vec.size();
    for (int i = 0; i < count; i++) {
        cout << vec[i];
        if (i < count - 1) cout << ", ";
    }
    
    if (limit > 0 && limit < vec.size()) {
        cout << ", ...";
    }
    cout << endl;
}

int main() {
    // ตั้งค่าสีและรูปแบบการแสดงผล
    cout << "\033[1;36m"; // สี cyan
    cout << "========================================================" << endl;
    cout << "        โปรแกรมภาษา C++ ตัวอย่าง - Code Tester          " << endl;
    cout << "========================================================" << endl;
    cout << "\033[0m"; // รีเซ็ตสี
    
    cout << endl;
    
    // ข้อมูลนักเรียน
    vector<Student> students = {
        Student("สมชาย", 18, {85, 90, 78, 92, 88}),
        Student("สมหญิง", 17, {95, 92, 98, 90, 96}),
        Student("สมหมาย", 19, {65, 70, 68, 72, 70}),
        Student("สมศรี", 18, {55, 60, 58, 62, 65}),
        Student("สมาน", 17, {45, 50, 48, 52, 55})
    };
    
    // แสดงข้อมูลนักเรียน
    cout << "\033[1;33mข้อมูลนักเรียน:\033[0m" << endl;
    cout << string(50, '-') << endl;
    
    for (const auto& student : students) {
        student.display();
    }
    cout << endl;
    
    // Fibonacci Sequence
    cout << "\033[1;33mลำดับ Fibonacci 15 ตัวแรก:\033[0m" << endl;
    vector<int> fibNumbers = fibonacci(15);
    printVector("Fibonacci", fibNumbers);
    cout << endl;
    
    // จำนวนเฉพาะ
    cout << "\033[1;33mจำนวนเฉพาะ 1-30:\033[0m" << endl;
    vector<int> primes;
    for (int i = 1; i <= 30; i++) {
        if (isPrime(i)) {
            primes.push_back(i);
        }
    }
    printVector("จำนวนเฉพาะ", primes);
    cout << endl;
    
    // การทำงานกับตัวเลข
    cout << "\033[1;33mการทำงานกับตัวเลข:\033[0m" << endl;
    
    // สร้าง vector ตัวเลข 1-20
    vector<int> numbers;
    for (int i = 1; i <= 20; i++) {
        numbers.push_back(i);
    }
    
    // เลขคู่
    vector<int> evenNumbers;
    copy_if(numbers.begin(), numbers.end(), back_inserter(evenNumbers),
            [](int n) { return n % 2 == 0; });
    printVector("เลขคู่ 1-20", evenNumbers, 10);
    
    // เลขคี่ที่มากกว่า 10
    vector<int> oddGreaterThan10;
    copy_if(numbers.begin(), numbers.end(), back_inserter(oddGreaterThan10),
            [](int n) { return n % 2 != 0 && n > 10; });
    printVector("เลขคี่ที่มากกว่า 10", oddGreaterThan10);
    cout << endl;
    
    // การคำนวณทางคณิตศาสตร์
    cout << "\033[1;33mการคำนวณทางคณิตศาสตร์:\033[0m" << endl;
    
    double radius = 7.5;
    double area = M_PI * radius * radius;
    double circumference = 2 * M_PI * radius;
    
    cout << "  รัศมีวงกลม: " << radius << endl;
    cout << "    พื้นที่วงกลม: " << fixed << setprecision(2) << area << endl;
    cout << "    เส้นรอบวง: " << fixed << setprecision(2) << circumference << endl;
    
    // ตัวเลขสุ่ม
    cout << "  ตัวเลขสุ่ม 5 ตัว (1-100): ";
    srand(time(0));
    for (int i = 0; i < 5; i++) {
        cout << (rand() % 100 + 1);
        if (i < 4) cout << ", ";
    }
    cout << endl << endl;
    
    // การเรียงลำดับนักเรียนตามเกรด
    cout << "\033[1;33mการเรียงลำดับนักเรียนตามเกรดเฉลี่ย:\033[0m" << endl;
    
    // สร้าง vector ใหม่สำหรับการเรียงลำดับ
    vector<Student> sortedStudents = students;
    sort(sortedStudents.begin(), sortedStudents.end(),
        [](const Student& a, const Student& b) {
            return a.getAverage() > b.getAverage();
        });
    
    cout << "  (จากสูงไปต่ำ):" << endl;
    for (const auto& student : sortedStudents) {
        cout << "    " << student.getName() << ": " 
             << fixed << setprecision(2) << student.getAverage() << endl;
    }
    cout << endl;
    
    // วันที่และเวลา
    cout << "\033[1;33mวันที่และเวลา:\033[0m" << endl;
    
    time_t now = time(0);
    tm* localTime = localtime(&now);
    
    cout << "  วันที่: " << (localTime->tm_year + 1900) << "/"
         << (localTime->tm_mon + 1) << "/"
         << localTime->tm_mday << endl;
    
    cout << "  เวลา: " << localTime->tm_hour << ":"
         << localTime->tm_min << ":"
         << localTime->tm_sec << endl;
    cout << endl;
    
    cout << "\033[1;32m"; // สีเขียว
    cout << "========================================================" << endl;
    cout << "        สิ้นสุดโปรแกรมตัวอย่าง C++                       " << endl;
    cout << "========================================================" << endl;
    cout << "\033[0m"; // รีเซ็ตสี
    
    return 0;
}`,
                
                c: `#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <math.h>
#include <stdbool.h>

// โครงสร้างข้อมูลนักเรียน
typedef struct {
    char name[50];
    int age;
    int grades[5];
    int grade_count;
} Student;

// ฟังก์ชันคำนวณเกรดเฉลี่ย
double calculate_average(Student *student) {
    if (student->grade_count == 0) return 0.0;
    
    double sum = 0.0;
    for (int i = 0; i < student->grade_count; i++) {
        sum += student->grades[i];
    }
    return sum / student->grade_count;
}

// ฟังก์ชันกำหนดระดับความสำเร็จ
const char* get_grade_level(double average) {
    if (average >= 80.0) return "ดีมาก";
    if (average >= 70.0) return "ดี";
    if (average >= 60.0) return "พอใช้";
    return "ปรับปรุง";
}

// ฟังก์ชันแสดงข้อมูลนักเรียน
void display_student(Student *student) {
    double average = calculate_average(student);
    printf("  %s (อายุ %d ปี)\\n", student->name, student->age);
    printf("    เกรดเฉลี่ย: %.2f\\n", average);
    printf("    ระดับ: %s\\n", get_grade_level(average));
}

// ฟังก์ชันคำนวณ Fibonacci
void fibonacci(int n, int *result, int *count) {
    *count = 0;
    
    if (n <= 0) return;
    
    if (n >= 1) {
        result[(*count)++] = 0;
    }
    
    if (n >= 2) {
        result[(*count)++] = 1;
    }
    
    for (int i = 2; i < n; i++) {
        result[i] = result[i-1] + result[i-2];
        (*count)++;
    }
}

// ฟังก์ชันตรวจสอบจำนวนเฉพาะ
bool is_prime(int num) {
    if (num <= 1) return false;
    if (num <= 3) return true;
    if (num % 2 == 0 || num % 3 == 0) return false;
    
    for (int i = 5; i * i <= num; i += 6) {
        if (num % i == 0 || num % (i + 2) == 0) {
            return false;
        }
    }
    
    return true;
}

// ฟังก์ชันแสดงข้อมูลอาร์เรย์
void print_array(const char* label, int arr[], int size, int limit) {
    printf("  %s: ", label);
    
    int display_count = (limit > 0 && limit < size) ? limit : size;
    
    for (int i = 0; i < display_count; i++) {
        printf("%d", arr[i]);
        if (i < display_count - 1) printf(", ");
    }
    
    if (limit > 0 && limit < size) {
        printf(", ...");
    }
    printf("\\n");
}

// ฟังก์ชันหลัก
int main() {
    // ตั้งค่าสีสำหรับ console (ถ้ารองรับ)
    printf("\\033[1;36m"); // สี cyan
    printf("========================================================");
    printf("\\n        โปรแกรมภาษา C ตัวอย่าง - Code Tester           ");
    printf("\\n========================================================");
    printf("\\033[0m\\n\\n"); // รีเซ็ตสี
    
    // ข้อมูลนักเรียน
    Student students[5] = {
        {"สมชาย", 18, {85, 90, 78, 92, 88}, 5},
        {"สมหญิง", 17, {95, 92, 98, 90, 96}, 5},
        {"สมหมาย", 19, {65, 70, 68, 72, 70}, 5},
        {"สมศรี", 18, {55, 60, 58, 62, 65}, 5},
        {"สมาน", 17, {45, 50, 48, 52, 55}, 5}
    };
    
    int student_count = 5;
    
    // แสดงข้อมูลนักเรียน
    printf("\\033[1;33mข้อมูลนักเรียน:\\033[0m\\n");
    printf("--------------------------------------------------\\n");
    
    for (int i = 0; i < student_count; i++) {
        display_student(&students[i]);
    }
    printf("\\n");
    
    // Fibonacci Sequence
    printf("\\033[1;33mลำดับ Fibonacci 15 ตัวแรก:\\033[0m\\n");
    
    int fib_result[15];
    int fib_count;
    fibonacci(15, fib_result, &fib_count);
    print_array("Fibonacci", fib_result, fib_count, 15);
    printf("\\n");
    
    // จำนวนเฉพาะ
    printf("\\033[1;33mจำนวนเฉพาะ 1-30:\\033[0m\\n");
    
    int primes[30];
    int prime_count = 0;
    
    for (int i = 1; i <= 30; i++) {
        if (is_prime(i)) {
            primes[prime_count++] = i;
        }
    }
    
    print_array("จำนวนเฉพาะ", primes, prime_count, 30);
    printf("\\n");
    
    // การทำงานกับตัวเลข
    printf("\\033[1;33mการทำงานกับตัวเลข:\\033[0m\\n");
    
    // สร้างอาร์เรย์ตัวเลข 1-20
    int numbers[20];
    for (int i = 0; i < 20; i++) {
        numbers[i] = i + 1;
    }
    
    // เลขคู่
    int even_numbers[20];
    int even_count = 0;
    
    for (int i = 0; i < 20; i++) {
        if (numbers[i] % 2 == 0) {
            even_numbers[even_count++] = numbers[i];
        }
    }
    
    print_array("เลขคู่ 1-20", even_numbers, even_count, 10);
    
    // เลขคี่ที่มากกว่า 10
    int odd_greater_than_10[20];
    int odd_count = 0;
    
    for (int i = 0; i < 20; i++) {
        if (numbers[i] % 2 != 0 && numbers[i] > 10) {
            odd_greater_than_10[odd_count++] = numbers[i];
        }
    }
    
    print_array("เลขคี่ที่มากกว่า 10", odd_greater_than_10, odd_count, 20);
    printf("\\n");
    
    // การคำนวณทางคณิตศาสตร์
    printf("\\033[1;33mการคำนวณทางคณิตศาสตร์:\\033[0m\\n");
    
    double radius = 7.5;
    double area = M_PI * radius * radius;
    double circumference = 2 * M_PI * radius;
    
    printf("  รัศมีวงกลม: %.2f\\n", radius);
    printf("    พื้นที่วงกลม: %.2f\\n", area);
    printf("    เส้นรอบวง: %.2f\\n", circumference);
    printf("\\n");
    
    // ตัวเลขสุ่ม
    printf("\\033[1;33mตัวเลขสุ่ม:\\033[0m\\n");
    
    srand(time(NULL));
    printf("  ตัวเลขสุ่ม 5 ตัว (1-100): ");
    for (int i = 0; i < 5; i++) {
        printf("%d", rand() % 100 + 1);
        if (i < 4) printf(", ");
    }
    printf("\\n\\n");
    
    // การเรียงลำดับนักเรียนตามเกรด (แบบง่าย)
    printf("\\033[1;33mการเรียงลำดับนักเรียนตามเกรดเฉลี่ย:\\033[0m\\n");
    printf("  (จากสูงไปต่ำ):\\n");
    
    // สร้างอาร์เรย์สำหรับเกรดเฉลี่ย
    double averages[5];
    for (int i = 0; i < 5; i++) {
        averages[i] = calculate_average(&students[i]);
    }
    
    // Bubble sort แบบง่าย
    for (int i = 0; i < 5; i++) {
        for (int j = i + 1; j < 5; j++) {
            if (averages[i] < averages[j]) {
                // สลับค่า averages
                double temp_avg = averages[i];
                averages[i] = averages[j];
                averages[j] = temp_avg;
                
                // สลับนักเรียน
                Student temp_student = students[i];
                students[i] = students[j];
                students[j] = temp_student;
            }
        }
    }
    
    // แสดงผลการเรียงลำดับ
    for (int i = 0; i < 5; i++) {
        printf("    %s: %.2f\\n", students[i].name, averages[i]);
    }
    printf("\\n");
    
    // วันที่และเวลา
    printf("\\033[1;33mวันที่และเวลา:\\033[0m\\n");
    
    time_t now = time(NULL);
    struct tm *local_time = localtime(&now);
    
    printf("  วันที่: %04d/%02d/%02d\\n", 
           local_time->tm_year + 1900,
           local_time->tm_mon + 1,
           local_time->tm_mday);
    
    printf("  เวลา: %02d:%02d:%02d\\n",
           local_time->tm_hour,
           local_time->tm_min,
           local_time->tm_sec);
    printf("\\n");
    
    printf("\\033[1;32m"); // สีเขียว
    printf("========================================================");
    printf("\\n        สิ้นสุดโปรแกรมตัวอย่าง C                        ");
    printf("\\n========================================================");
    printf("\\033[0m\\n"); // รีเซ็ตสี
    
    return 0;
}`,
                
                php: `<?php
// โปรแกรมภาษา PHP ตัวอย่าง
// แสดงความสามารถของ PHP

// ตั้งค่าเวลาและโซนเวลา
date_default_timezone_set('Asia/Bangkok');

// คลาสนักเรียน
class Student {
    private $name;
    private $age;
    private $grades;
    
    public function __construct($name, $age, $grades) {
        $this->name = $name;
        $this->age = $age;
        $this->grades = $grades;
    }
    
    public function getName() {
        return $this->name;
    }
    
    public function getAge() {
        return $this->age;
    }
    
    public function getAverageGrade() {
        if (empty($this->grades)) {
            return 0;
        }
        return array_sum($this->grades) / count($this->grades);
    }
    
    public function getGradeLevel() {
        $average = $this->getAverageGrade();
        if ($average >= 80) return "ดีมาก";
        if ($average >= 70) return "ดี";
        if ($average >= 60) return "พอใช้";
        return "ปรับปรุง";
    }
    
    public function display() {
        $average = number_format($this->getAverageGrade(), 2);
        return "{$this->name} (อายุ {$this->age} ปี) - เกรดเฉลี่ย: {$average} - ระดับ: " . $this->getGradeLevel();
    }
}

// ฟังก์ชัน Fibonacci
function fibonacci($n) {
    if ($n <= 0) return [];
    if ($n == 1) return [0];
    if ($n == 2) return [0, 1];
    
    $fib_sequence = [0, 1];
    for ($i = 2; $i < $n; $i++) {
        $fib_sequence[] = $fib_sequence[$i-1] + $fib_sequence[$i-2];
    }
    
    return $fib_sequence;
}

// ฟังก์ชันตรวจสอบจำนวนเฉพาะ
function is_prime($num) {
    if ($num <= 1) return false;
    if ($num <= 3) return true;
    if ($num % 2 == 0 || $num % 3 == 0) return false;
    
    for ($i = 5; $i * $i <= $num; $i += 6) {
        if ($num % $i == 0 || $num % ($i + 2) == 0) {
            return false;
        }
    }
    
    return true;
}

// ฟังก์ชันแสดงข้อมูลอาร์เรย์
function display_array($label, $array, $limit = 0) {
    $output = "  $label: ";
    $count = ($limit > 0 && $limit < count($array)) ? $limit : count($array);
    
    for ($i = 0; $i < $count; $i++) {
        $output .= $array[$i];
        if ($i < $count - 1) $output .= ", ";
    }
    
    if ($limit > 0 && $limit < count($array)) {
        $output .= ", ...";
    }
    
    return $output;
}

// เริ่มต้นโปรแกรม
echo "\033[1;36m"; // สี cyan
echo "========================================================" . PHP_EOL;
echo "        โปรแกรมภาษา PHP ตัวอย่าง - Code Tester          " . PHP_EOL;
echo "========================================================" . PHP_EOL;
echo "\033[0m"; // รีเซ็ตสี
echo PHP_EOL;

// ข้อมูลนักเรียน
$students = [
    new Student("สมชาย", 18, [85, 90, 78, 92, 88]),
    new Student("สมหญิง", 17, [95, 92, 98, 90, 96]),
    new Student("สมหมาย", 19, [65, 70, 68, 72, 70]),
    new Student("สมศรี", 18, [55, 60, 58, 62, 65]),
    new Student("สมาน", 17, [45, 50, 48, 52, 55])
];

// แสดงข้อมูลนักเรียน
echo "\033[1;33mข้อมูลนักเรียน:\033[0m" . PHP_EOL;
echo str_repeat("-", 50) . PHP_EOL;

foreach ($students as $student) {
    echo "  " . $student->display() . PHP_EOL;
}
echo PHP_EOL;

// Fibonacci Sequence
echo "\033[1;33mลำดับ Fibonacci 15 ตัวแรก:\033[0m" . PHP_EOL;
$fib_numbers = fibonacci(15);
echo display_array("Fibonacci", $fib_numbers, 15) . PHP_EOL;
echo PHP_EOL;

// จำนวนเฉพาะ
echo "\033[1;33mจำนวนเฉพาะ 1-30:\033[0m" . PHP_EOL;
$primes = [];
for ($i = 1; $i <= 30; $i++) {
    if (is_prime($i)) {
        $primes[] = $i;
    }
}
echo display_array("จำนวนเฉพาะ", $primes, 30) . PHP_EOL;
echo PHP_EOL;

// การทำงานกับตัวเลข
echo "\033[1;33mการทำงานกับตัวเลข:\033[0m" . PHP_EOL;

// สร้างอาร์เรย์ตัวเลข 1-20
$numbers = range(1, 20);

// เลขคู่
$even_numbers = array_filter($numbers, function($n) {
    return $n % 2 == 0;
});
echo display_array("เลขคู่ 1-20", array_values($even_numbers), 10) . PHP_EOL;

// เลขคี่ที่มากกว่า 10
$odd_greater_than_10 = array_filter($numbers, function($n) {
    return $n % 2 != 0 && $n > 10;
});
echo display_array("เลขคี่ที่มากกว่า 10", array_values($odd_greater_than_10)) . PHP_EOL;
echo PHP_EOL;

// การคำนวณทางคณิตศาสตร์
echo "\033[1;33mการคำนวณทางคณิตศาสตร์:\033[0m" . PHP_EOL;

$radius = 7.5;
$area = pi() * pow($radius, 2);
$circumference = 2 * pi() * $radius;

echo "  รัศมีวงกลม: " . number_format($radius, 2) . PHP_EOL;
echo "    พื้นที่วงกลม: " . number_format($area, 2) . PHP_EOL;
echo "    เส้นรอบวง: " . number_format($circumference, 2) . PHP_EOL;
echo PHP_EOL;

// ตัวเลขสุ่ม
echo "\033[1;33mตัวเลขสุ่ม:\033[0m" . PHP_EOL;

$random_numbers = [];
for ($i = 0; $i < 5; $i++) {
    $random_numbers[] = rand(1, 100);
}

echo "  ตัวเลขสุ่ม 5 ตัว (1-100): " . implode(", ", $random_numbers) . PHP_EOL;
echo "    ค่าสูงสุด: " . max($random_numbers) . PHP_EOL;
echo "    ค่าต่ำสุด: " . min($random_numbers) . PHP_EOL;
echo "    ค่าเฉลี่ย: " . number_format(array_sum($random_numbers) / count($random_numbers), 2) . PHP_EOL;
echo PHP_EOL;

// การเรียงลำดับนักเรียนตามเกรด
echo "\033[1;33mการเรียงลำดับนักเรียนตามเกรดเฉลี่ย:\033[0m" . PHP_EOL;

// สร้างอาร์เรย์ใหม่สำหรับการเรียงลำดับ
$sorted_students = $students;
usort($sorted_students, function($a, $b) {
    return $b->getAverageGrade() <=> $a->getAverageGrade();
});

echo "  (จากสูงไปต่ำ):" . PHP_EOL;
foreach ($sorted_students as $student) {
    $average = number_format($student->getAverageGrade(), 2);
    echo "    {$student->getName()}: {$average}" . PHP_EOL;
}
echo PHP_EOL;

// วันที่และเวลา
echo "\033[1;33mวันที่และเวลา:\033[0m" . PHP_EOL;

$now = new DateTime();
echo "  วันที่ปัจจุบัน: " . $now->format('d/m/Y') . PHP_EOL;
echo "  เวลาปัจจุบัน: " . $now->format('H:i:s') . PHP_EOL;
echo "  วันในสัปดาห์: " . $now->format('l') . PHP_EOL;

$tomorrow = $now->modify('+1 day');
echo "  พรุ่งนี้: " . $tomorrow->format('d/m/Y') . PHP_EOL;
echo PHP_EOL;

// การทำงานกับอาร์เรย์หลายมิติ
echo "\033[1;33mการทำงานกับอาร์เรย์หลายมิติ:\033[0m" . PHP_EOL;

$products = [
    ["name" => "โน๊ตบุ๊ค", "price" => 25000, "stock" => 15],
    ["name" => "สมาร์ทโฟน", "price" => 12000, "stock" => 30],
    ["name" => "แท็บเล็ต", "price" => 8000, "stock" => 25],
    ["name" => "หูฟัง", "price" => 1500, "stock" => 50],
    ["name" => "เมาส์", "price" => 500, "stock" => 100]
];

echo "  รายการสินค้า:" . PHP_EOL;
foreach ($products as $product) {
    $total_value = $product['price'] * $product['stock'];
    echo "    {$product['name']}: ราคา {$product['price']} บาท, คงเหลือ {$product['stock']} ชิ้น, มูลค่ารวม: " . 
         number_format($total_value) . " บาท" . PHP_EOL;
}
echo PHP_EOL;

// การทำงานกับ JSON
echo "\033[1;33mการทำงานกับ JSON:\033[0m" . PHP_EOL;

$data = [
    "project" => "PHP Code Tester",
    "version" => "1.0",
    "author" => "ทีมพัฒนาซอฟต์แวร์",
    "features" => ["Real-time Execution", "Syntax Highlighting", "Multi-language Support"],
    "students_count" => count($students),
    "timestamp" => date('Y-m-d H:i:s')
];

$json_data = json_encode($data, JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE);
echo "  ข้อมูล JSON:" . PHP_EOL;
echo $json_data . PHP_EOL;
echo PHP_EOL;

echo "\033[1;32m"; // สีเขียว
echo "========================================================" . PHP_EOL;
echo "        สิ้นสุดโปรแกรมตัวอย่าง PHP                       " . PHP_EOL;
echo "========================================================" . PHP_EOL;
echo "\033[0m"; // รีเซ็ตสี
?>`
            };
            
            // ขยายข้อมูลภาษา
            const languageInfo = {
                html: { 
                    name: "HTML", 
                    extension: ".html", 
                    icon: "fab fa-html5", 
                    color: "text-orange-500",
                    runner: "html" 
                },
                python: { 
                    name: "Python", 
                    extension: ".py", 
                    icon: "fab fa-python", 
                    color: "text-yellow-500",
                    runner: "console" 
                },
                csharp: { 
                    name: "C#", 
                    extension: ".cs", 
                    icon: "fas fa-code", 
                    color: "text-purple-500",
                    runner: "console" 
                },
                cpp: { 
                    name: "C++", 
                    extension: ".cpp", 
                    icon: "fas fa-cog", 
                    color: "text-blue-500",
                    runner: "console" 
                },
                c: { 
                    name: "C", 
                    extension: ".c", 
                    icon: "fas fa-cog", 
                    color: "text-blue-300",
                    runner: "console" 
                },
                php: { 
                    name: "PHP", 
                    extension: ".php", 
                    icon: "fab fa-php", 
                    color: "text-indigo-500",
                    runner: "console" 
                }
            };
            
            // ตัวแปรสำหรับติดตามสถานะ
            let isRunningCode = false;
            let runHistory = [];
            
            // โหลดโค้ดที่บันทึกไว้ (ถ้ามี)
            function loadSavedCode() {
                try {
                    const savedCode = localStorage.getItem(`codeTester_${currentLanguage}`);
                    if (savedCode) {
                        codeEditor.value = savedCode;
                        updatePreview();
                        updateLineNumbers();
                        updateStats();
                        showNotification('โหลดโค้ดสำเร็จ', `โหลดโค้ด ${languageInfo[currentLanguage].name} ที่บันทึกไว้`, 'success');
                    } else {
                        // ถ้าไม่มีโค้ดที่บันทึกไว้ ให้ใช้ตัวอย่างโค้ด
                        codeEditor.value = codeExamples[currentLanguage];
                        updateLineNumbers();
                        updatePreview();
                        updateStats();
                    }
                } catch (e) {
                    console.error('Error loading saved code:', e);
                }
            }
            
            // อัปเดต preview
            function updatePreview() {
                try {
                    const code = codeEditor.value;
                    
                    if (currentLanguage === 'html') {
                        // สำหรับ HTML ให้แสดงใน iframe
                        const previewDoc = previewFrame.contentDocument || previewFrame.contentWindow.document;
                        previewDoc.open();
                        previewDoc.write(code);
                        previewDoc.close();
                        
                        // อัปเดตหน้าจอใหญ่ด้วย (ถ้ากำลังแสดงอยู่)
                        const screenDoc = screenFrame.contentDocument || screenFrame.contentWindow.document;
                        screenDoc.open();
                        screenDoc.write(code);
                        screenDoc.close();
                    } else {
                        // สำหรับภาษาอื่นๆ ให้แสดงในคอนโซล
                        updateConsoleOutput();
                    }
                    
                    // อัปเดตเวลาล่าสุด
                    const now = new Date();
                    lastUpdateEl.textContent = now.toLocaleTimeString('th-TH');
                    
                    // บันทึกลง localStorage
                    localStorage.setItem(`codeTester_${currentLanguage}`, code);
                    
                    // อัปเดตสถิติ
                    updateStats();
                    
                    // แสดงการแจ้งเตือนถ้าไม่ได้อยู่ในโหมด live
                    if (!isLiveMode) {
                        showNotification('อัปเดตสำเร็จ', 'อัปเดต preview เรียบร้อยแล้ว', 'success');
                    }
                } catch (e) {
                    console.error('Error updating preview:', e);
                    showNotification('เกิดข้อผิดพลาด', 'ไม่สามารถอัปเดต preview ได้', 'error');
                }
            }
            
            // อัปเดตคอนโซล output
            function updateConsoleOutput() {
                const code = codeEditor.value;
                consoleOutputContent.innerHTML = '';
                
                // เพิ่มข้อความเริ่มต้น
                consoleOutputContent.innerHTML += `
                    <div class="console-line console-command">$ โค้ดภาษา ${languageInfo[currentLanguage].name}</div>
                    <div class="console-line console-info">$ พิมพ์โค้ดด้านซ้ายและคลิก "รันโค้ด" เพื่อทดสอบ</div>
                    <div class="console-line console-info">$ รองรับการรันโค้ดแบบจำลองสำหรับทุกภาษา</div>
                `;
                
                // แสดงโค้ดที่เขียน
                consoleOutputContent.innerHTML += `
                    <div class="console-line console-output-text" style="margin-top: 1rem; white-space: pre-wrap; background: #1e293b; padding: 1rem; border-radius: 0.375rem; font-family: monospace;">
                        ${escapeHtml(code)}
                    </div>
                `;
            }
            
            // รันโค้ด
            async function runCode() {
                if (isRunningCode) return;
                
                isRunningCode = true;
                const startTime = new Date();
                const code = codeEditor.value;
                
                // แสดงสถานะการรัน
                runBtn.innerHTML = '<div class="loading"></div> รันโค้ด...';
                runBtn.classList.remove('run-button-animation');
                
                try {
                    // เปลี่ยนไปที่แท็บผลการรัน
                    switchTab('result');
                    
                    // ล้างผลลัพธ์เก่า
                    executionResultContent.innerHTML = '';
                    
                    // เพิ่มข้อความเริ่มต้น
                    executionResultContent.innerHTML += `
                        <div class="console-line console-command">$ เริ่มรันโค้ดภาษา ${languageInfo[currentLanguage].name}</div>
                        <div class="console-line console-info">$ เวลาเริ่มต้น: ${startTime.toLocaleTimeString('th-TH')}</div>
                        <div class="console-line console-info">$ จำนวนบรรทัด: ${code.split('\n').length}</div>
                    `;
                    
                    // จำลองการรันโค้ด
                    await simulateCodeExecution(code, currentLanguage);
                    
                    const endTime = new Date();
                    const executionTimeMs = endTime - startTime;
                    
                    // แสดงผลลัพธ์การรัน
                    executionResultContent.innerHTML += `
                        <div class="console-line console-success" style="margin-top: 1rem;">
                            $ การรันโค้ดสำเร็จเรียบร้อย!
                        </div>
                        <div class="console-line console-info">
                            $ ใช้เวลาในการรัน: ${executionTimeMs} มิลลิวินาที
                        </div>
                        <div class="console-line console-info">
                            $ เวลาสิ้นสุด: ${endTime.toLocaleTimeString('th-TH')}
                        </div>
                    `;
                    
                    // อัปเดตเวลาการรัน
                    executionTime.textContent = `${executionTimeMs}ms`;
                    statLastRun.textContent = endTime.toLocaleTimeString('th-TH');
                    
                    // บันทึกประวัติการรัน
                    runHistory.push({
                        language: currentLanguage,
                        timestamp: endTime,
                        executionTime: executionTimeMs,
                        success: true
                    });
                    
                    // อัปเดต console output ด้วย
                    updateConsoleOutput();
                    consoleOutputContent.innerHTML += `
                        <div class="console-line console-success" style="margin-top: 1rem;">
                            $ การรันโค้ดเสร็จสิ้น (${executionTimeMs}ms)
                        </div>
                    `;
                    
                    showNotification('รันโค้ดสำเร็จ', `รันโค้ด ${languageInfo[currentLanguage].name} เสร็จสิ้นใน ${executionTimeMs}ms`, 'success');
                    
                } catch (error) {
                    console.error('Error running code:', error);
                    
                    executionResultContent.innerHTML += `
                        <div class="console-line console-error" style="margin-top: 1rem;">
                            $ เกิดข้อผิดพลาดในการรันโค้ด: ${error.message}
                        </div>
                        <div class="console-line console-warning">
                            $ โปรดตรวจสอบไวยากรณ์ของโค้ด
                        </div>
                    `;
                    
                    showNotification('เกิดข้อผิดพลาด', 'ไม่สามารถรันโค้ดได้', 'error');
                    
                } finally {
                    // คืนสถานะปุ่มรันโค้ด
                    isRunningCode = false;
                    runBtn.innerHTML = '<i class="fas fa-play-circle"></i> รันโค้ด';
                    runBtn.classList.add('run-button-animation');
                    
                    // อัปเดตสถิติ
                    updateStats();
                }
            }
            
            // จำลองการรันโค้ด
            async function simulateCodeExecution(code, language) {
                return new Promise((resolve, reject) => {
                    try {
                        // เพิ่มความล่าช้าเพื่อจำลองการรันโค้ด
                        setTimeout(() => {
                            // จำลองผลลัพธ์ตามภาษา
                            let output = '';
                            
                            if (language === 'python') {
                                output = `
                                    <div class="console-line console-command">$ python code.py</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text">        โปรแกรมภาษา Python ตัวอย่าง - Code Tester</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">ข้อมูลนักเรียน:</div>
                                    <div class="console-line console-output-text">นักเรียน: สมชาย, อายุ: 18, เกรดเฉลี่ย: 86.60</div>
                                    <div class="console-line console-output-text">ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">นักเรียน: สมหญิง, อายุ: 17, เกรดเฉลี่ย: 94.20</div>
                                    <div class="console-line console-output-text">ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">...</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">ลำดับ Fibonacci 15 ตัวแรก:</div>
                                    <div class="console-line console-output-text">[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377]</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">ตรวจสอบจำนวนเฉพาะ:</div>
                                    <div class="console-line console-output-text">จำนวนเฉพาะ 1-30: [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text">สิ้นสุดโปรแกรมตัวอย่าง Python</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                `;
                            } else if (language === 'csharp') {
                                output = `
                                    <div class="console-line console-command">$ dotnet run</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text">        โปรแกรมภาษา C# ตัวอย่าง - Code Tester</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">ข้อมูลนักเรียน:</div>
                                    <div class="console-line console-output-text">--------------------------------------------------</div>
                                    <div class="console-line console-output-text">  นักเรียน: สมชาย, อายุ: 18</div>
                                    <div class="console-line console-output-text">    เกรดเฉลี่ย: 86.60</div>
                                    <div class="console-line console-output-text">    ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">  นักเรียน: สมหญิง, อายุ: 17</div>
                                    <div class="console-line console-output-text">    เกรดเฉลี่ย: 94.20</div>
                                    <div class="console-line console-output-text">    ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">...</div>
                                `;
                            } else if (language === 'cpp') {
                                output = `
                                    <div class="console-line console-command">$ g++ -o program program.cpp && ./program</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text">        โปรแกรมภาษา C++ ตัวอย่าง - Code Tester</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">ข้อมูลนักเรียน:</div>
                                    <div class="console-line console-output-text">--------------------------------------------------</div>
                                    <div class="console-line console-output-text">  สมชาย (อายุ 18 ปี)</div>
                                    <div class="console-line console-output-text">    เกรดเฉลี่ย: 86.60</div>
                                    <div class="console-line console-output-text">    ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">  สมหญิง (อายุ 17 ปี)</div>
                                    <div class="console-line console-output-text">    เกรดเฉลี่ย: 94.20</div>
                                    <div class="console-line console-output-text">    ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">...</div>
                                `;
                            } else if (language === 'c') {
                                output = `
                                    <div class="console-line console-command">$ gcc -o program program.c && ./program</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text">        โปรแกรมภาษา C ตัวอย่าง - Code Tester</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">ข้อมูลนักเรียน:</div>
                                    <div class="console-line console-output-text">--------------------------------------------------</div>
                                    <div class="console-line console-output-text">  สมชาย (อายุ 18 ปี)</div>
                                    <div class="console-line console-output-text">    เกรดเฉลี่ย: 86.60</div>
                                    <div class="console-line console-output-text">    ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">  สมหญิง (อายุ 17 ปี)</div>
                                    <div class="console-line console-output-text">    เกรดเฉลี่ย: 94.20</div>
                                    <div class="console-line console-output-text">    ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">...</div>
                                `;
                            } else if (language === 'php') {
                                output = `
                                    <div class="console-line console-command">$ php code.php</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text">        โปรแกรมภาษา PHP ตัวอย่าง - Code Tester</div>
                                    <div class="console-line console-output-text">========================================================</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">ข้อมูลนักเรียน:</div>
                                    <div class="console-line console-output-text">--------------------------------------------------</div>
                                    <div class="console-line console-output-text">  สมชาย (อายุ 18 ปี) - เกรดเฉลี่ย: 86.60 - ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">  สมหญิง (อายุ 17 ปี) - เกรดเฉลี่ย: 94.20 - ระดับ: ดีมาก</div>
                                    <div class="console-line console-output-text">...</div>
                                    <div class="console-line console-output-text"></div>
                                    <div class="console-line console-output-text">ลำดับ Fibonacci 15 ตัวแรก:</div>
                                    <div class="console-line console-output-text">  Fibonacci: 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377</div>
                                `;
                            }
                            
                            // เพิ่มผลลัพธ์ลงใน execution result
                            executionResultContent.innerHTML += `
                                <div class="console-line console-info" style="margin-top: 1rem;">$ ผลลัพธ์การรันโค้ด:</div>
                                <div class="console-output-text" style="background: #1e293b; padding: 1rem; border-radius: 0.375rem; margin-top: 0.5rem; font-family: monospace; white-space: pre-wrap;">
                                    ${output}
                                </div>
                            `;
                            
                            resolve();
                        }, 1000); // ล่าช้า 1 วินาทีเพื่อจำลองการรันโค้ด
                    } catch (error) {
                        reject(error);
                    }
                });
            }
            
            // อัปเดตสถิติ
            function updateStats() {
                const code = codeEditor.value;
                const lines = code.split('\n').length;
                const size = new Blob([code]).size;
                
                statLanguage.textContent = languageInfo[currentLanguage].name;
                statLines.textContent = lines;
                statSize.textContent = `${(size / 1024).toFixed(2)} KB`;
                
                if (runHistory.length > 0) {
                    const lastRun = runHistory[runHistory.length - 1];
                    statLastRun.textContent = lastRun.timestamp.toLocaleTimeString('th-TH');
                }
            }
            
            // เปลี่ยนภาษา
            function changeLanguage(lang) {
                if (lang === currentLanguage) return;
                
                // บันทึกโค้ดปัจจุบันก่อนเปลี่ยนภาษา
                localStorage.setItem(`codeTester_${currentLanguage}`, codeEditor.value);
                
                // อัปเดตภาษาใหม่
                currentLanguage = lang;
                const langInfo = languageInfo[lang];
                
                // อัปเดต UI
                currentLanguageEl.textContent = langInfo.name;
                editorTitle.textContent = `${langInfo.name} Editor`;
                
                // อัปเดตไอคอนและสี
                languageSelectorBtn.innerHTML = `
                    <i class="${langInfo.icon} ${langInfo.color}"></i>
                    <span>${langInfo.name}</span>
                    <i class="fas fa-chevron-down ml-1"></i>
                `;
                
                // อัปเดตตัวเลือกใน dropdown
                document.querySelectorAll('.language-option').forEach(option => {
                    option.classList.remove('active');
                    if (option.dataset.lang === lang) {
                        option.classList.add('active');
                    }
                });
                
                // โหลดโค้ดสำหรับภาษาใหม่
                loadSavedCode();
                
                // อัปเดตชื่อไฟล์ดาวน์โหลด
                filenameInput.value = `my-code${langInfo.extension}`;
                fileExtensionText.textContent = `ไฟล์จะถูกดาวน์โหลดเป็นไฟล์ ${langInfo.extension}`;
                
                // อัปเดต preview mode
                if (lang === 'html') {
                    switchTab('preview');
                } else {
                    switchTab('console');
                }
                
                showNotification('เปลี่ยนภาษา', `เปลี่ยนภาษาเป็น ${langInfo.name}`, 'success');
            }
            
            // เปลี่ยนแท็บ
            function switchTab(tabName) {
                // อัปเดตปุ่มแท็บ
                outputTabs.forEach(tab => {
                    tab.classList.remove('active');
                    if (tab.dataset.tab === tabName) {
                        tab.classList.add('active');
                    }
                });
                
                // อัปเดตเนื้อหา
                outputContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${tabName}-content`) {
                        content.classList.add('active');
                    }
                });
            }
            
            // แสดงหน้าจอใหญ่
            function showScreenModal() {
                screenModal.classList.add('show');
                
                // อัปเดตขนาดหน้าจอเริ่มต้น
                updateScreenSize('desktop');
            }
            
            // อัปเดตขนาดหน้าจอ
            function updateScreenSize(size) {
                currentScreenSize = size;
                
                // อัปเดตปุ่ม
                mobileScreenBtn.classList.remove('active');
                tabletScreenBtn.classList.remove('active');
                desktopScreenBtn.classList.remove('active');
                fullScreenBtn.classList.remove('active');
                
                // ตั้งค่าขนาด
                const screenBody = document.querySelector('.screen-modal-body');
                const screenFrame = document.getElementById('screen-frame');
                
                if (size === 'mobile') {
                    mobileScreenBtn.classList.add('active');
                    screenBody.style.maxWidth = '375px';
                    screenBody.style.margin = '0 auto';
                    screenFrame.style.width = '375px';
                    screenFrame.style.height = '667px';
                    screenSizeDisplay.textContent = 'ขนาด: มือถือ (375x667)';
                } else if (size === 'tablet') {
                    tabletScreenBtn.classList.add('active');
                    screenBody.style.maxWidth = '768px';
                    screenBody.style.margin = '0 auto';
                    screenFrame.style.width = '768px';
                    screenFrame.style.height = '1024px';
                    screenSizeDisplay.textContent = 'ขนาด: แท็บเล็ต (768x1024)';
                } else if (size === 'desktop') {
                    desktopScreenBtn.classList.add('active');
                    screenBody.style.maxWidth = '100%';
                    screenBody.style.margin = '0';
                    screenFrame.style.width = '100%';
                    screenFrame.style.height = '100%';
                    screenSizeDisplay.textContent = 'ขนาด: เดสก์ท็อป (100%)';
                } else if (size === 'full') {
                    fullScreenBtn.classList.add('active');
                    screenBody.style.maxWidth = '100%';
                    screenBody.style.margin = '0';
                    screenFrame.style.width = '100%';
                    screenFrame.style.height = '100%';
                    screenSizeDisplay.textContent = 'ขนาด: เต็มจอ';
                }
                
                // อัปเดต iframe
                const code = codeEditor.value;
                const screenDoc = screenFrame.contentDocument || screenFrame.contentWindow.document;
                screenDoc.open();
                screenDoc.write(code);
                screenDoc.close();
            }
            
            // สลับโหมดธีม
            function toggleTheme() {
                const htmlElement = document.documentElement;
                isDarkMode = !isDarkMode;
                
                if (isDarkMode) {
                    htmlElement.classList.add('dark');
                    themeText.textContent = 'ดาร์ก';
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i><span>ดาร์ก</span>';
                    themeToggle.classList.remove('bg-gray-200', 'text-gray-800');
                    themeToggle.classList.add('bg-gray-800', 'text-white');
                    showNotification('เปลี่ยนธีม', 'เปลี่ยนเป็นธีมดาร์กโหมด', 'success');
                } else {
                    htmlElement.classList.remove('dark');
                    themeText.textContent = 'ไลต์';
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i><span>ไลต์</span>';
                    themeToggle.classList.remove('bg-gray-800', 'text-white');
                    themeToggle.classList.add('bg-gray-200', 'text-gray-800');
                    showNotification('เปลี่ยนธีม', 'เปลี่ยนเป็นธีมไลต์โหมด', 'success');
                }
                
                // บันทึกการตั้งค่า
                localStorage.setItem('codeTesterTheme', isDarkMode ? 'dark' : 'light');
            }
            
            // สลับโหมด live update
            function toggleLiveMode() {
                isLiveMode = !isLiveMode;
                
                if (isLiveMode) {
                    liveText.textContent = 'Live';
                    liveStatusText.textContent = 'อัปเดตแบบเรียลไทม์';
                    liveToggle.innerHTML = '<i class="fas fa-play"></i><span>Live</span>';
                    liveToggle.classList.remove('bg-gray-600');
                    liveToggle.classList.add('bg-green-600');
                    liveIndicator.classList.remove('bg-gray-800', 'text-gray-400');
                    liveIndicator.classList.add('bg-green-900', 'text-green-200');
                    showNotification('อัปเดตแบบเรียลไทม์', 'เปิดโหมดอัปเดตแบบเรียลไทม์แล้ว', 'success');
                } else {
                    liveText.textContent = 'Paused';
                    liveStatusText.textContent = 'หยุดอัปเดตชั่วคราว';
                    liveToggle.innerHTML = '<i class="fas fa-pause"></i><span>Paused</span>';
                    liveToggle.classList.remove('bg-green-600');
                    liveToggle.classList.add('bg-gray-600');
                    liveIndicator.classList.remove('bg-green-900', 'text-green-200');
                    liveIndicator.classList.add('bg-gray-800', 'text-gray-400');
                    showNotification('หยุดอัปเดตชั่วคราว', 'ปิดโหมดอัปเดตแบบเรียลไทม์แล้ว', 'warning');
                }
            }
            
            // สลับโหมดเต็มจอ
            function toggleFullscreen() {
                isFullscreen = !isFullscreen;
                
                if (isFullscreen) {
                    editorSection.classList.add('fullscreen');
                    fullscreenBtn.innerHTML = '<i class="fas fa-compress"></i><span class="hidden md:inline">ย่อ</span>';
                    fullscreenBtn.classList.remove('bg-gray-700');
                    fullscreenBtn.classList.add('bg-yellow-600');
                    
                    // ซ่อน preview section
                    previewSection.style.display = 'none';
                    resizer.style.display = 'none';
                    
                    // อัปเดต line numbers สำหรับ fullscreen
                    updateLineNumbers();
                    
                    showNotification('โหมดเต็มจอ', 'เปิดโหมดเต็มจอแล้ว - กด ESC เพื่อออก', 'info');
                } else {
                    editorSection.classList.remove('fullscreen');
                    fullscreenBtn.innerHTML = '<i class="fas fa-expand"></i><span class="hidden md:inline">เต็มจอ</span>';
                    fullscreenBtn.classList.remove('bg-yellow-600');
                    fullscreenBtn.classList.add('bg-gray-700');
                    
                    // แสดง preview section
                    previewSection.style.display = 'flex';
                    resizer.style.display = 'block';
                    
                    // อัปเดต line numbers กลับสู่ปกติ
                    updateLineNumbers();
                    
                    showNotification('โหมดปกติ', 'ปิดโหมดเต็มจอแล้ว', 'success');
                }
            }
            
            // รีเซ็ตโค้ดเป็นค่าเริ่มต้น
            function resetCode() {
                showCustomConfirm(
                    'รีเซ็ตโค้ด',
                    `คุณแน่ใจที่จะรีเซ็ตโค้ด ${languageInfo[currentLanguage].name} ทั้งหมด? การเปลี่ยนแปลงทั้งหมดจะหายไป`,
                    function() {
                        codeEditor.value = codeExamples[currentLanguage];
                        updateLineNumbers();
                        updatePreview();
                        updateStats();
                        showNotification('รีเซ็ตสำเร็จ', `รีเซ็ตโค้ด ${languageInfo[currentLanguage].name} เป็นค่าเริ่มต้นแล้ว`, 'success');
                    }
                );
            }
            
            // แสดง modal ดาวน์โหลด
            function showDownloadModal() {
                downloadModal.classList.add('show');
                filenameInput.focus();
                filenameInput.select();
            }
            
            // ซ่อน modal ดาวน์โหลด
            function hideDownloadModal() {
                downloadModal.classList.remove('show');
            }
            
            // ดาวน์โหลดไฟล์โค้ด
            function downloadCode() {
                const content = codeEditor.value;
                const filename = filenameInput.value || `my-code${languageInfo[currentLanguage].extension}`;
                
                // สร้าง Blob จากเนื้อหา
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                
                // สร้าง element a สำหรับดาวน์โหลด
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                
                // ล้างทรัพยากร
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
                
                hideDownloadModal();
                showNotification('ดาวน์โหลดสำเร็จ', `ดาวน์โหลดไฟล์ "${filename}" เรียบร้อยแล้ว`, 'success');
            }
            
            // แสดงการแจ้งเตือนแบบสวยงาม
            function showNotification(title, message, type = 'success') {
                // ตั้งค่าชื่อเรื่องและข้อความ
                notificationTitle.textContent = title;
                notificationText.textContent = message;
                
                // ตั้งค่าสีตามประเภท
                notificationContent.className = 'notification-content';
                if (type === 'success') {
                    notificationContent.classList.add('notification-success');
                } else if (type === 'error') {
                    notificationContent.classList.add('notification-error');
                } else if (type === 'warning') {
                    notificationContent.classList.add('notification-warning');
                } else if (type === 'info') {
                    notificationContent.classList.add('notification-info');
                }
                
                // แสดงการแจ้งเตือน
                notification.classList.add('show');
                
                // ซ่อนการแจ้งเตือนหลังจาก 4 วินาที
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 4000);
            }
            
            // แสดงการยืนยันแบบสวยงามแทน confirm
            function showCustomConfirm(title, message, onConfirm) {
                const confirmModal = document.createElement('div');
                confirmModal.className = 'modal show';
                confirmModal.innerHTML = `
                    <div class="modal-content">
                        <h3 class="text-xl font-bold mb-4 flex items-center">
                            <i class="fas fa-exclamation-triangle mr-2 text-yellow-500"></i> ${title}
                        </h3>
                        <div class="mb-6">
                            <p class="text-gray-300">${message}</p>
                        </div>
                        <div class="flex justify-end space-x-3">
                            <button id="custom-cancel" class="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors">
                                ยกเลิก
                            </button>
                            <button id="custom-confirm" class="px-4 py-2 bg-red-600 rounded-lg hover:bg-red-700 transition-colors">
                                ตกลง
                            </button>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(confirmModal);
                
                // จัดการเหตุการณ์
                document.getElementById('custom-cancel').addEventListener('click', function() {
                    document.body.removeChild(confirmModal);
                });
                
                document.getElementById('custom-confirm').addEventListener('click', function() {
                    document.body.removeChild(confirmModal);
                    onConfirm();
                });
                
                // ปิดเมื่อคลิกภายนอก
                confirmModal.addEventListener('click', function(e) {
                    if (e.target === confirmModal) {
                        document.body.removeChild(confirmModal);
                    }
                });
            }
            
            // ตั้งค่า resizer
            function setupResizer() {
                resizer.addEventListener('mousedown', function(e) {
                    isResizing = true;
                    resizer.classList.add('active');
                    document.body.style.cursor = 'col-resize';
                    e.preventDefault();
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!isResizing) return;
                    
                    const containerWidth = document.querySelector('.split-container').offsetWidth;
                    const mouseX = e.clientX;
                    const containerLeft = document.querySelector('.split-container').getBoundingClientRect().left;
                    
                    // คำนวณเปอร์เซ็นต์ความกว้าง
                    editorWidth = ((mouseX - containerLeft) / containerWidth) * 100;
                    
                    // จำกัดขนาดขั้นต่ำและสูงสุด
                    if (editorWidth < 20) editorWidth = 20;
                    if (editorWidth > 80) editorWidth = 80;
                    
                    // อัปเดตขนาด
                    editorSection.style.width = `${editorWidth}%`;
                    previewSection.style.width = `${100 - editorWidth}%`;
                });
                
                document.addEventListener('mouseup', function() {
                    if (isResizing) {
                        isResizing = false;
                        resizer.classList.remove('active');
                        document.body.style.cursor = '';
                        
                        // บันทึกขนาดที่ปรับ
                        localStorage.setItem('codeTesterEditorWidth', editorWidth);
                    }
                });
                
                // โหลดขนาดที่บันทึกไว้
                const savedWidth = localStorage.getItem('codeTesterEditorWidth');
                if (savedWidth) {
                    editorWidth = parseFloat(savedWidth);
                    editorSection.style.width = `${editorWidth}%`;
                    previewSection.style.width = `${100 - editorWidth}%`;
                }
            }
            
            // อัปเดต line numbers
            function updateLineNumbers() {
                const lines = codeEditor.value.split('\n').length;
                const scrollTop = codeEditor.scrollTop;
                const lineHeight = 21; // ควรตรงกับ line-height ใน CSS
                
                // ล้าง line numbers เก่า
                lineNumbersContainer.innerHTML = '';
                
                // สร้าง line numbers ใหม่
                for (let i = 1; i <= Math.max(lines, 30); i++) {
                    const lineNumber = document.createElement('div');
                    lineNumber.className = 'line-number';
                    lineNumber.textContent = i;
                    lineNumber.dataset.line = i;
                    
                    // ไฮไลต์บรรทัดปัจจุบัน
                    if (i === currentLine) {
                        lineNumber.classList.add('current-line');
                    }
                    
                    // คลิกเพื่อไปยังบรรทัดนั้น
                    lineNumber.addEventListener('click', function() {
                        goToLine(i);
                    });
                    
                    lineNumbersContainer.appendChild(lineNumber);
                }
                
                // ซิงค์การเลื่อน
                lineNumbersContainer.scrollTop = scrollTop;
            }
            
            // ไปยังบรรทัดที่ระบุ
            function goToLine(lineNumber) {
                const lines = codeEditor.value.split('\n');
                if (lineNumber < 1 || lineNumber > lines.length) return;
                
                // คำนวณตำแหน่ง
                const lineHeight = 21;
                const targetPosition = (lineNumber - 1) * lineHeight;
                
                // เลื่อน editor ไปยังตำแหน่งนั้น
                codeEditor.scrollTop = targetPosition;
                
                // ตั้งค่าเคอร์เซอร์ไปยังต้นบรรทัด
                let charIndex = 0;
                for (let i = 0; i < lineNumber - 1; i++) {
                    charIndex += lines[i].length + 1; // +1 สำหรับ newline
                }
                
                codeEditor.focus();
                codeEditor.setSelectionRange(charIndex, charIndex);
                
                // อัปเดต current line และไฮไลต์
                currentLine = lineNumber;
                updateLineNumbers();
                
                // ไฮไลต์บรรทัดชั่วคราว
                const lineElement = lineNumbersContainer.querySelector(`[data-line="${lineNumber}"]`);
                if (lineElement) {
                    lineElement.classList.add('highlight');
                    setTimeout(() => {
                        lineElement.classList.remove('highlight');
                    }, 1000);
                }
                
                showNotification('ไปยังบรรทัด', `ไปยังบรรทัดที่ ${lineNumber}`, 'info');
            }
            
            // ตรวจจับบรรทัดปัจจุบันจากตำแหน่งเคอร์เซอร์
            function detectCurrentLine() {
                const cursorPosition = codeEditor.selectionStart;
                const textBeforeCursor = codeEditor.value.substring(0, cursorPosition);
                const lines = textBeforeCursor.split('\n');
                currentLine = lines.length;
                updateLineNumbers();
            }
            
            // ฟังก์ชันแปลง HTML entities
            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }
            
            // ตั้งค่า keyboard shortcuts
            function setupKeyboardShortcuts() {
                document.addEventListener('keydown', function(e) {
                    // Ctrl+S เพื่อบันทึก
                    if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                        e.preventDefault();
                        localStorage.setItem(`codeTester_${currentLanguage}`, codeEditor.value);
                        showNotification('บันทึกสำเร็จ', 'บันทึกโค้ดเรียบร้อยแล้ว', 'success');
                    }
                    
                    // Ctrl+Enter หรือ Ctrl+R เพื่อรันโค้ด
                    if ((e.ctrlKey || e.metaKey) && (e.key === 'Enter' || e.key === 'r')) {
                        e.preventDefault();
                        runCode();
                    }
                    
                    // Ctrl+D เพื่อสลับธีม
                    if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
                        e.preventDefault();
                        toggleTheme();
                    }
                    
                    // Ctrl+L เพื่อสลับโหมด live
                    if ((e.ctrlKey || e.metaKey) && e.key === 'l') {
                        e.preventDefault();
                        toggleLiveMode();
                    }
                    
                    // Ctrl+E เพื่อสลับเต็มจอ
                    if ((e.ctrlKey || e.metaKey) && e.key === 'e') {
                        e.preventDefault();
                        toggleFullscreen();
                    }
                    
                    // Ctrl+G เพื่อไปยังบรรทัด
                    if ((e.ctrlKey || e.metaKey) && e.key === 'g') {
                        e.preventDefault();
                        const line = prompt('ไปยังบรรทัดที่:');
                        if (line && !isNaN(line)) {
                            goToLine(parseInt(line));
                        }
                    }
                    
                    // Ctrl+1-6 เพื่อเปลี่ยนภาษา
                    if ((e.ctrlKey || e.metaKey) && e.key >= '1' && e.key <= '6') {
                        e.preventDefault();
                        const langIndex = parseInt(e.key) - 1;
                        const langs = ['html', 'python', 'csharp', 'cpp', 'c', 'php'];
                        if (langs[langIndex]) {
                            changeLanguage(langs[langIndex]);
                        }
                    }
                    
                    // F11 สำหรับเต็มจอ
                    if (e.key === 'F11') {
                        e.preventDefault();
                        toggleFullscreen();
                    }
                    
                    // ESC เพื่อออกจากเต็มจอ
                    if (e.key === 'Escape' && isFullscreen) {
                        toggleFullscreen();
                    }
                    
                    // ESC เพื่อปิด modal
                    if (e.key === 'Escape') {
                        if (screenModal.classList.contains('show')) {
                            screenModal.classList.remove('show');
                        }
                        if (downloadModal.classList.contains('show')) {
                            hideDownloadModal();
                        }
                    }
                });
                
                // ตรวจจับการเลื่อนเมาส์และการกดคีย์ใน editor
                codeEditor.addEventListener('click', detectCurrentLine);
                codeEditor.addEventListener('keyup', detectCurrentLine);
                codeEditor.addEventListener('scroll', function() {
                    lineNumbersContainer.scrollTop = codeEditor.scrollTop;
                });
            }
            
            // ตั้งค่า event listeners
            function setupEventListeners() {
                // Live update เมื่อพิมพ์ใน editor
                codeEditor.addEventListener('input', function() {
                    updateLineNumbers();
                    updateStats();
                    if (isLiveMode) {
                        updatePreview();
                    }
                });
                
                // ปุ่มรันโค้ด
                runBtn.addEventListener('click', runCode);
                quickRunBtn.addEventListener('click', runCode);
                
                // ปุ่มสลับธีม
                themeToggle.addEventListener('click', toggleTheme);
                
                // ปุ่มสลับโหมด live
                liveToggle.addEventListener('click', toggleLiveMode);
                
                // ปุ่มเต็มจอ
                fullscreenBtn.addEventListener('click', toggleFullscreen);
                
                // ปุ่มรีเซ็ต
                resetBtn.addEventListener('click', resetCode);
                
                // ปุ่มดาวน์โหลด
                downloadBtn.addEventListener('click', showDownloadModal);
                
                // ปุ่มยืนยันดาวน์โหลด
                confirmDownloadBtn.addEventListener('click', downloadCode);
                
                // ปุ่มยกเลิกดาวน์โหลด
                cancelDownloadBtn.addEventListener('click', hideDownloadModal);
                
                // ปิด modal เมื่อคลิกภายนอก
                downloadModal.addEventListener('click', function(e) {
                    if (e.target === downloadModal) {
                        hideDownloadModal();
                    }
                });
                
                // ดาวน์โหลดเมื่อกด Enter ในช่องชื่อไฟล์
                filenameInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        downloadCode();
                    }
                });
                
                // Language selector
                languageSelectorBtn.addEventListener('click', function() {
                    languageDropdown.classList.toggle('show');
                });
                
                // เลือกภาษา
                document.querySelectorAll('.language-option').forEach(option => {
                    option.addEventListener('click', function() {
                        const lang = this.dataset.lang;
                        changeLanguage(lang);
                        languageDropdown.classList.remove('show');
                    });
                });
                
                // ปิด language dropdown เมื่อคลิกภายนอก
                document.addEventListener('click', function(e) {
                    if (!languageSelectorBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
                        languageDropdown.classList.remove('show');
                    }
                });
                
                // ตัวอย่างโค้ด
                exampleBtn.addEventListener('click', function() {
                    codeEditor.value = codeExamples[currentLanguage];
                    updateLineNumbers();
                    updatePreview();
                    updateStats();
                    showNotification('โหลดตัวอย่าง', `โหลดตัวอย่างโค้ด ${languageInfo[currentLanguage].name}`, 'success');
                });
                
                // Output tabs
                outputTabs.forEach(tab => {
                    tab.addEventListener('click', function() {
                        const tabName = this.dataset.tab;
                        switchTab(tabName);
                    });
                });
                
                // Preview mode buttons
                previewHtmlBtn.addEventListener('click', function() {
                    switchTab('preview');
                });
                
                previewConsoleBtn.addEventListener('click', function() {
                    switchTab('console');
                });
                
                previewScreenBtn.addEventListener('click', function() {
                    showScreenModal();
                });
                
                // Screen modal
                closeScreenModal.addEventListener('click', function() {
                    screenModal.classList.remove('show');
                });
                
                mobileScreenBtn.addEventListener('click', function() {
                    updateScreenSize('mobile');
                });
                
                tabletScreenBtn.addEventListener('click', function() {
                    updateScreenSize('tablet');
                });
                
                desktopScreenBtn.addEventListener('click', function() {
                    updateScreenSize('desktop');
                });
                
                fullScreenBtn.addEventListener('click', function() {
                    updateScreenSize('full');
                });
                
                // ปิด screen modal เมื่อคลิกภายนอก
                screenModal.addEventListener('click', function(e) {
                    if (e.target === screenModal) {
                        screenModal.classList.remove('show');
                    }
                });
                
                // เมื่อ editor ได้รับ focus
                codeEditor.addEventListener('focus', function() {
                    this.style.outline = '2px solid #3b82f6';
                    this.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';
                });
                
                // เมื่อ editor เสีย focus
                codeEditor.addEventListener('blur', function() {
                    this.style.outline = 'none';
                    this.style.boxShadow = 'none';
                });
            }
            
            // โหลดการตั้งค่าธีมที่บันทึกไว้
            function loadTheme() {
                const savedTheme = localStorage.getItem('codeTesterTheme');
                if (savedTheme === 'light') {
                    isDarkMode = false;
                    toggleTheme(); // เรียกเพื่อสลับไปยัง light mode
                }
            }
            
            // เริ่มต้นแอปพลิเคชัน
            function initApp() {
                // โหลดธีมที่บันทึกไว้
                loadTheme();
                
                // ตั้งค่า event listeners
                setupEventListeners();
                
                // ตั้งค่า resizer
                setupResizer();
                
                // ตั้งค่า keyboard shortcuts
                setupKeyboardShortcuts();
                
                // โหลดโค้ดเริ่มต้น
                loadSavedCode();
                
                // อัปเดต line numbers ครั้งแรก
                updateLineNumbers();
                
                // อัปเดตสถิติครั้งแรก
                updateStats();
                
                // แสดงการต้อนรับ
                setTimeout(() => {
                    showNotification('ยินดีต้อนรับ', 'Live Code Tester Pro พร้อมใช้งานแล้ว!', 'success');
                }, 1000);
            }
            
            // เรียกใช้ฟังก์ชันเริ่มต้น
            initApp();
        });
    </script>
</body>
</html>
